(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[0],{184:function(e,t,a){"use strict";var l=a(0),i=a.n(l);t.a=function(e){return i.a.createElement("img",Object.assign({alt:"Logo",src:"/static/logo.svg"},e))}},20:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return r}));const l="2.0.0",i="http://74.208.61.158:3001/api",o=!1,r="2024-10-10"},23:function(e,t,a){"use strict";var l=a(417);const i=a.n(l).a.create();t.a=i},260:function(e,t,a){"use strict";var l=a(0),i=a.n(l),o=a(429),r=a(16);function n(){window.gtag&&window.gtag(...arguments)}var s={pageview:function(e){n("config",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GA_MEASUREMENT_ID,e)},event:function(e,t){n("event",e,t)}};const c=Object(l.forwardRef)((e,t)=>{let{title:a,children:n,...c}=e;const h=Object(r.h)(),f=Object(l.useCallback)(()=>{s.pageview({page_path:h.pathname})},[h]);return Object(l.useEffect)(()=>{f()},[f]),i.a.createElement("div",Object.assign({ref:t},c),i.a.createElement(o.a,null,i.a.createElement("title",null,a)),n)});t.a=c},447:function(e,t,a){e.exports=a(668)},545:function(e,t,a){},58:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"g",(function(){return h})),a.d(t,"j",(function(){return f})),a.d(t,"h",(function(){return p})),a.d(t,"i",(function(){return d}));a(23);var l=a(88);const i="@account/login-request",o="@account/login-success",r="@account/login-failure",n="@account/silent-login",s="@account/logout",c="@account/update-profile";function h(e,t){return async a=>{try{a({type:i});const r=await l.a.loginWithEmailAndPassword(e,t);a({type:o,payload:{user:r}})}catch(n){throw a({type:r}),n}}}function f(e){return t=>t({type:n,payload:{user:e}})}function p(){return async e=>{l.a.logout(),e({type:s})}}function d(){return!0}},665:function(e,t){},666:function(e,t){},667:function(e,t){},668:function(e,t,a){"use strict";a.r(t);a(448),a(471),a(542),a(543),a(544),a(545),a(546),a(547),a(548),a(549),a(550),a(551),a(552),a(553),a(554),a(555);var l=a(70),i=a(0),o=a.n(i),r=a(10),n=a.n(r),s=a(77);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(185),h=a.n(c);const f="LIGHT",p="ONE_DARK",d="UNICORN";function g(e){localStorage.setItem("settings",JSON.stringify(e))}const m=Object(i.createContext)(),b={direction:"ltr",responsiveFontSizes:!0,theme:f};function u(e){let{settings:t,children:a}=e;const[l,r]=Object(i.useState)(t||b);return Object(i.useEffect)(()=>{document.dir=l.direction},[l]),o.a.createElement(m.Provider,{value:{settings:l,saveSettings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=h.a.merge({},l,e);r(t),g(t)}}},a)}m.Consumer;var w=m,x=a(98),v=a(421),k=a(415),y=a(416),E=a(730),C=a(58);const S={user:null};var W=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.b:return Object(l.a)(e,e=>{e.user=null});case C.c:{const{user:a}=t.payload;return Object(l.a)(e,e=>{e.user=a})}case C.a:return Object(l.a)(e,()=>{});case C.d:return Object(l.a)(e,e=>{e.user=null});case C.e:{const{user:a}=t.payload;return Object(l.a)(e,e=>{e.user=a})}case C.f:{const{user:a}=t.payload;return Object(l.a)(e,e=>{e.user=a})}default:return e}};var T=Object(x.combineReducers)({account:W,form:E.a}),O=a(20);const N=Object(y.createLogger)();var L=a(16),z=a(36),j=a(31),B=a(422),P=a.n(B),A=a(423),R=a(424),I=a(731),M=a(675),D=a(690),V=a(727),G=a(738),H=a(728),F=a(729),J=a(705),Q=a(184);const q=Object(M.a)(e=>({root:{alignItems:"center",backgroundColor:e.palette.background.default,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",left:0,padding:e.spacing(3),position:"fixed",top:0,width:"100%",zIndex:2e3},logo:{width:200,maxWidth:"100%"}}));var Y=function(){const e=q();return o.a.createElement("div",{className:e.root},o.a.createElement(F.a,{display:"flex",justifyContent:"center",mb:6},o.a.createElement(Q.a,{className:e.logo})),o.a.createElement(J.a,null))},_=a(88);var U=function(e){let{children:t}=e;const a=Object(s.b)(),[l,r]=Object(i.useState)(!0);return Object(i.useEffect)(()=>{(async()=>{if(_.a.setAxiosInterceptors({onLogout:()=>a(Object(C.h)())}),_.a.handleAuthentication(),_.a.isAuthenticated()){const e=await _.a.loginInWithToken();await a(Object(C.j)(e))}r(!1)})()},[a]),l?o.a.createElement(Y,null):t};var X=function(){const e=Object(L.h)();return Object(i.useEffect)(()=>{window.scrollTo(0,0)},[e.pathname]),null};var Z=a(33),K=a(437),$=a(734);const ee=["none","0 0 1px 0 rgba(0,0,0,0.70), 0 3px 4px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 2px 2px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 3px 4px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 3px 4px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 4px 6px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 4px 6px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 4px 8px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 5px 8px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 6px 12px -4px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 7px 12px -4px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 6px 16px -4px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 7px 16px -4px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 8px 18px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 9px 18px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 10px 20px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 11px 20px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 12px 22px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 13px 22px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 14px 24px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 16px 28px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 18px 30px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 20px 32px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 22px 34px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 24px 36px -8px rgba(0,0,0,0.50)"],te={direction:"ltr",typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}},overrides:{MuiLinearProgress:{root:{borderRadius:3,overflow:"hidden"}},MuiListItemIcon:{root:{minWidth:32}},MuiChip:{root:{backgroundColor:"rgba(0,0,0,0.075)"}}}},ae=[{name:f,overrides:{MuiInputBase:{input:{"&::placeholder":{opacity:1,color:Z.a.blueGrey[600]}}}},palette:{type:"light",action:{active:Z.a.blueGrey[600]},background:{default:Z.a.common.white,dark:"#f4f6f8",paper:Z.a.common.white},primary:{main:Z.a.indigo[600]},secondary:{main:"#5850EC"},text:{primary:Z.a.blueGrey[900],secondary:Z.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"]},{name:p,palette:{type:"dark",action:{active:"rgba(255, 255, 255, 0.54)",hover:"rgba(255, 255, 255, 0.04)",selected:"rgba(255, 255, 255, 0.08)",disabled:"rgba(255, 255, 255, 0.26)",disabledBackground:"rgba(255, 255, 255, 0.12)",focus:"rgba(255, 255, 255, 0.12)"},background:{default:"#282C34",dark:"#1c2025",paper:"#282C34"},primary:{main:"#8a85ff"},secondary:{main:"#8a85ff"},text:{primary:"#e6e5e8",secondary:"#adb0bb"}},shadows:ee},{name:d,palette:{type:"dark",action:{active:"rgba(255, 255, 255, 0.54)",hover:"rgba(255, 255, 255, 0.04)",selected:"rgba(255, 255, 255, 0.08)",disabled:"rgba(255, 255, 255, 0.26)",disabledBackground:"rgba(255, 255, 255, 0.12)",focus:"rgba(255, 255, 255, 0.12)"},background:{default:"#2a2d3d",dark:"#222431",paper:"#2a2d3d"},primary:{main:"#a67dff"},secondary:{main:"#a67dff"},text:{primary:"#f6f5f8",secondary:"#9699a4"}},shadows:ee}];function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ae.find(t=>t.name===e.theme);t||(console.warn(new Error("The theme ".concat(e.theme," is not valid"))),[t]=ae);let a=Object(K.a)(h.a.merge({},te,t,{direction:e.direction}));return e.responsiveFontSizes&&(a=Object($.a)(a)),a}var ie=a(92),oe=a(5),re=a(706),ne=a(707),se=a(733),ce=a(441),he=a(709),fe=a(710),pe=a(711);const de=Object(M.a)(e=>({root:{backgroundColor:e.palette.background.default},toolbar:{height:64},logo:{marginRight:e.spacing(2)},link:{fontWeight:e.typography.fontWeightMedium,"& + &":{marginLeft:e.spacing(2)}},divider:{width:1,height:32,marginLeft:e.spacing(2),marginRight:e.spacing(2)}}));var ge=function(e){let{className:t,...a}=e;const l=de();return o.a.createElement(re.a,Object.assign({className:Object(oe.a)(l.root,t),color:"default"},a),o.a.createElement(ne.a,{className:l.toolbar},o.a.createElement(ie.a,{to:"/"},o.a.createElement(Q.a,{className:l.logo})),o.a.createElement(se.a,{mdDown:!0},o.a.createElement(ce.a,{variant:"caption",color:"textSecondary"},"Version"," ",O.b)),o.a.createElement(F.a,{flexGrow:1}),o.a.createElement(he.a,{className:l.link,color:"textSecondary",component:ie.a,to:"/app",underline:"none",variant:"body2"},"Dashboard"),o.a.createElement(fe.a,{className:l.divider}),o.a.createElement(pe.a,{color:"secondary",component:"a",href:"https://material-ui.com/store/items/devias-kit-pro",variant:"contained",size:"small"},"Get the kit")))};const me=Object(M.a)(e=>({root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}));var be=function(e){let{children:t}=e;const a=me();return o.a.createElement("div",{className:a.root},o.a.createElement(ge,null),o.a.createElement("div",{className:a.wrapper},o.a.createElement("div",{className:a.contentContainer},o.a.createElement("div",{className:a.content},t))))},ue=a(255),we=a.n(ue),xe=a(712);const ve=Object(M.a)(e=>({root:{alignItems:"center",backgroundColor:e.palette.background.default,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",minHeight:"100%",padding:e.spacing(3)}}));var ke=function(){const e=ve();return Object(i.useEffect)(()=>(we.a.start(),()=>{we.a.done()}),[]),o.a.createElement("div",{className:e.root},o.a.createElement(F.a,{width:400},o.a.createElement(xe.a,null)))};var ye=function(e){let{children:t}=e;return Object(s.c)(e=>e.account).user?t:o.a.createElement(L.a,{to:"/login"})};var Ee=function(e){let{children:t}=e;return Object(s.c)(e=>e.account).user?o.a.createElement(L.a,{to:"/app"}):t},Ce=a(260),Se=a(677),We=a(678),Te=a(735),Oe=a(736),Ne=a(720),Le=a(732),ze=a(689),je=a(722),Be=a(723),Pe=a(724),Ae=a(713),Re=a(716),Ie=a(717),Me=a(718),De=a(721),Ve=a(2);const Ge="/static/images/windowSource.png",He=(e,t)=>{const a=e.getObjects();for(let l=0;l<a.length;l++)if(a[l].id===t)return a[l];return null},Fe=async(e,t)=>{const a=await e.getObjects();var l=[];for(let i=0;i<a.length;i++)a[i].id.includes(t)&&l.push(a[i]);return l},Je=e=>new Promise((t,a)=>{Ve.fabric.Image.fromURL(e,e=>{t(e)},null,{crossOrigin:"Anonymous"})});const Qe=async(e,t)=>{var a=[],l=await Fe(e,"horizontalBar");for(const i of l)i.left>=t.left&&i.width+i.left<=t.left+t.width&&i.top>=t.top&&i.top+i.height<=t.top+t.height&&a.push(i);return 0!==a.length&&a.sort((e,t)=>e.top-t.top)},qe=async(e,t)=>{var a=[],l=await Fe(e,"verticalOneBar");for(const i of l)i.left>=t.left&&i.width+i.left<=t.left+t.width&&i.top>=t.top&&i.top+i.height<=t.top+t.height&&a.push(i);return 0!==a.length&&a.sort((e,t)=>e.left-t.left)},Ye=async(e,t,a,l)=>{var i=new Ve.fabric.Polyline([{x:18,y:18},{x:18+t-e-18,y:18},{x:18+t-e,y:0},{x:0,y:0},{x:18,y:18}],{fill:"grey",selectable:!1,hasControls:!0,stroke:"black",strokeWidth:1});const o=new Ve.fabric.Line([13.5,13.5,t-e+9,13.5],{stroke:"black",strokeWidth:1}),r=new Ve.fabric.Group([i,o],{left:e-9,top:a-9,selectable:!1});var n=new Ve.fabric.Polyline([{x:0,y:0},{x:-18,y:-18},{x:-18,y:l-a},{x:0,y:l-a-18},{x:0,y:0}],{fill:"grey",selectable:!1,hasControls:!0,stroke:"black",strokeWidth:1});const s=new Ve.fabric.Line([-4.5,-4.5,-4.5,l-a-9],{stroke:"black",strokeWidth:1}),c=new Ve.fabric.Group([n,s],{left:e-9,top:a-9,selectable:!1});var h=new Ve.fabric.Polyline([{x:0,y:0},{x:0,y:l-a-18},{x:18,y:l-a},{x:18,y:-18},{x:0,y:0}],{fill:"grey",selectable:!1,hasControls:!0,stroke:"black",strokeWidth:1});const f=new Ve.fabric.Line([4.5,-4.5,4.5,l-a-9],{stroke:"black",strokeWidth:1}),p=new Ve.fabric.Group([h,f],{left:t-9,top:a-9,selectable:!1});var d=new Ve.fabric.Polyline([{x:0,y:0},{x:-18,y:18},{x:t-e,y:18},{x:t-e-18,y:0},{x:0,y:0}],{fill:"grey",selectable:!1,hasControls:!0,stroke:"black",strokeWidth:1});const g=new Ve.fabric.Line([-4.5,4.5,t-e-13.5,4.5],{stroke:"black",strokeWidth:1}),m=new Ve.fabric.Group([d,g],{left:e-9,top:l-9,selectable:!1});return new Ve.fabric.Group([r,c,p,m],{selectable:!1})},_e=async(e,t,a,l)=>new Ve.fabric.Rect({left:0,top:0,width:t-e,height:l-a,fill:"transparent",stroke:"white",strokeWidth:0,opacity:0}),Ue=async(e,t,a,l,i,o)=>{if(0!==t&&0!==a&&0!==l&&0!==i&&i-l>28.8&&a-t>28.8){if("csl"===o||"ccsl"===o){var r=await _e(t,a,l,i),n=new Ve.fabric.Polyline([{x:a-t,y:0},{x:0,y:(i-l)/2},{x:a-t,y:i-l}],{fill:"",stroke:"blue",strokeWidth:1,closed:!1});const s=new Ve.fabric.Text("csl"===o?"CS - L":"CCS - L",{top:(i-l)/2-20,left:(a-t)/2-40,fontSize:30,fill:"blue",fontWeight:"bold"}),c=new Ve.fabric.Group([r,n,s],{left:t,top:l,selectable:!1,id:"csl"===o?"realCoverWindowcsl":"realCoverWindowccsl"});e.add(c)}else if("csr"===o||"ccsr"===o){const r=await _e(t,a,l,i);n=new Ve.fabric.Polyline([{x:0,y:0},{x:a-t,y:(i-l)/2},{x:0,y:i-l}],{fill:"",stroke:"blue",strokeWidth:1,closed:!1});const s=new Ve.fabric.Text("csr"===o?"CS - R":"CCS - R",{top:(i-l)/2-20,left:(a-t)/2-40,fontSize:30,fill:"blue",fontWeight:"bold"}),c=new Ve.fabric.Group([r,n,s],{left:t,top:l,selectable:!1,id:"csr"===o?"realCoverWindowcsr":"realCoverWindowccsr"});e.add(c)}else if("awv"===o||"cawv"===o){const r=await _e(t,a,l,i);n=new Ve.fabric.Polyline([{x:0,y:i-l},{x:(a-t)/2,y:2.25},{x:a-t,y:i-l}],{fill:"",stroke:"blue",strokeWidth:1,closed:!1});const s=new Ve.fabric.Text("awv"===o?"AW - V":"CAW - V",{top:(i-l)/2,left:(a-t)/2-40,fontSize:30,fill:"blue",fontWeight:"bold"}),c=new Ve.fabric.Group([r,n,s],{left:t,top:l,selectable:!1,id:"awv"===o?"realCoverWindowawv":"realCoverWindowcawv"});e.add(c)}else if("vf"===o||"cvf"===o){const r=await _e(t,a,l,i),n=new Ve.fabric.Text("vf"===o?"V - F":"CV - F",{top:(i-l)/2,left:(a-t)/2-35,fontSize:30,fill:"blue",fontWeight:"bold"}),s=new Ve.fabric.Group([r,n],{left:t,top:l,selectable:!1,id:"vf"===o?"realCoverWindowvf":"realCoverWindowcvf"});e.add(s)}else if("vsf"===o||"cvsf"===o){const r=await _e(t,a,l,i),n=new Ve.fabric.Text("vsf"===o?"V - SF":"CV - SF",{top:(i-l)/2-9,left:(a-t)/2-18,fontSize:30,fill:"blue",fontWeight:"bold"}),s=new Ve.fabric.Group([r,n],{left:t,top:l,selectable:!1,id:"vsf"===o?"realCoverWindowvsf":"realCoverWindowcvsf"});e.add(s)}else if("vss"===o||"ss"===o){const r=await _e(t,a,l,i),n=new Ve.fabric.Line([0,(i-l)/2,(a-t)/2-9,(i-l)/2],{stroke:"blue",strokeWidth:1}),s=new Ve.fabric.Line([(a-t)/2,0,(a-t)/2,i-l],{stroke:"blue",strokeWidth:2}),c=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:90,left:(a-t)/2-9,top:(i-l)/2-10,selectable:!1}),h=new Ve.fabric.Text("vss"===o?"V - SS":"SS",{top:(i-l)/2-9,left:(a-t)/2+3,fontSize:30,fill:"blue",fontWeight:"bold"}),f=new Ve.fabric.Group([r,n,s,c,h],{left:t,top:l,selectable:!1,id:"vss"===o?"realCoverWindowvss":"realCoverWindowss"});e.add(f)}else if("vslo"===o||"slo"===o){const r=await _e(t,a,l,i),n=new Ve.fabric.Line([0,i-l,(a-t)/2-4.5,0],{stroke:"blue",strokeWidth:1}),s=new Ve.fabric.Line([(a-t)/2,0,(a-t)/2,i-l],{stroke:"blue",strokeWidth:2}),c=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:180*Math.atan(Math.abs((a-t)/2-9)/Math.abs(l-i))/Math.PI,left:(a-t)/2-18/1.4,top:0,selectable:!1}),h=new Ve.fabric.Text("vslo"===o?"V - SLO":"SLO",{top:(i-l)/2-9,left:(a-t)/2+3,fontSize:30,fill:"blue",fontWeight:"bold"}),f=new Ve.fabric.Group([r,n,s,c,h],{left:t,top:l,selectable:!1,id:"vslo"===o?"realCoverWindowvslo":"realCoverWindowslo"});e.add(f)}else if("vsso"===o||"sso"===o){const r=await _e(t,a,l,i),n=new Ve.fabric.Line([0,(i-l)/2,(a-t)/3-4.5,(i-l)/2],{stroke:"blue",strokeWidth:1}),s=new Ve.fabric.Line([(a-t)/3,0,(a-t)/3,i-l],{stroke:"blue",strokeWidth:2}),c=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:90,left:(a-t)/3,top:(i-l)/2-10,selectable:!1}),h=new Ve.fabric.Text("vsso"===o?"V - SSO":"SSO",{top:(i-l)/2-9,left:(a-t)/3+3,fontSize:30,fill:"blue",fontWeight:"bold"}),f=new Ve.fabric.Group([r,n,s,c,h],{left:t,top:l,selectable:!1,id:"vsso"===o?"realCoverWindowvsso":"realCoverWindowsso"});e.add(f)}else if("vssr"===o||"ssr"===o){const r=await _e(t,a,l,i),n=new Ve.fabric.Line([a-t-20,(i-l)/2,2*(a-t)/3+9,(i-l)/2],{stroke:"blue",strokeWidth:1}),s=new Ve.fabric.Line([2*(a-t)/3,0,2*(a-t)/3,i-l],{stroke:"blue",strokeWidth:2}),c=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:-90,left:2*(a-t)/3+9,top:(i-l)/2+10,selectable:!1}),h=new Ve.fabric.Text("vssr"===o?"V - SS - R":"SS - R",{top:(i-l)/2-9,left:2*(a-t)/3-125,fontSize:30,fill:"blue",fontWeight:"bold"}),f=new Ve.fabric.Group([r,n,s,c,h],{left:t,top:l,selectable:!1,id:"vssr"===o?"realCoverWindowvssr":"realCoverWindowssr"});e.add(f)}else if("vslos"===o||"slos"===o){const r=await _e(t,a,l,i),n=new Ve.fabric.Line([0,i-l,(a-t)/3-4.5,0],{stroke:"blue",strokeWidth:1}),s=new Ve.fabric.Line([(a-t)/3,0,(a-t)/3,i-l],{stroke:"blue",strokeWidth:2}),c=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:180*Math.atan(Math.abs((a-t)/3-9)/Math.abs(l-i))/Math.PI,left:(a-t)/3-15,top:0,selectable:!1}),h=new Ve.fabric.Text("vslos"===o?"V - SLOS":"SLOS",{top:(i-l)/2-9,left:(a-t)/3+3,fontSize:30,fill:"blue",fontWeight:"bold"}),f=new Ve.fabric.Group([r,n,s,c,h],{left:t,top:l,selectable:!1,id:"vslos"===o?"realCoverWindowvslos":"realCoverWindowslos"});e.add(f)}else if("vslosr"===o||"slosr"===o){const r=await _e(t,a,l,i),n=new Ve.fabric.Line([a-t,i-l,2*(a-t)/3+9,0],{stroke:"blue",strokeWidth:1}),s=new Ve.fabric.Line([2*(a-t)/3,0,2*(a-t)/3,i-l],{stroke:"blue",strokeWidth:2}),c=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:-180*Math.atan(Math.abs((a-t)/3)/Math.abs(l-i))/Math.PI,left:2*(a-t)/3,top:5,selectable:!1}),h=new Ve.fabric.Text("vslosr"===o?"V - SLOSR":"SLOSR",{top:(i-l)/2-9,left:2*(a-t)/3-145,fontSize:30,fill:"blue",fontWeight:"bold"}),f=new Ve.fabric.Group([r,n,s,c,h],{left:t,top:l,selectable:!1,id:"vslosr"===o?"realCoverWindowvslosr":"realCoverWindowslosr"});e.add(f)}else if("vsh"===o||"sh"===o){const r=await _e(t,a,l,i),n=new Ve.fabric.Line([(a-t)/2,i-l,(a-t)/2,(i-l)/2+9],{stroke:"blue",strokeWidth:1}),s=new Ve.fabric.Line([0,(i-l)/2,a-t,(i-l)/2],{stroke:"blue",strokeWidth:2}),c=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:0,left:(a-t)/2-10,top:(i-l)/2+9,selectable:!1}),h=new Ve.fabric.Text("vsh"===o?"V - SH":"SH",{top:(i-l)/2-30,left:(a-t)/2-30,fontSize:30,fill:"blue",fontWeight:"bold"}),f=new Ve.fabric.Group([r,n,s,c,h],{left:t,top:l,selectable:!1,id:"vsh"===o?"realCoverWindowvsh":"realCoverWindowsh"});e.add(f)}else if("vsho"===o||"sho"===o){const r=await _e(t,a,l,i),n=new Ve.fabric.Line([(a-t)/2,i-l,(a-t)/2,2*(i-l)/3+9],{stroke:"blue",strokeWidth:1}),s=new Ve.fabric.Line([0,2*(i-l)/3,a-t,2*(i-l)/3],{stroke:"blue",strokeWidth:2}),c=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:0,left:(a-t)/2-10,top:2*(i-l)/3+9,selectable:!1}),h=new Ve.fabric.Text("vsho"===o?"V - SHO":"SHO",{top:2*(i-l)/3-35,left:(a-t)/2-40,fontSize:30,fill:"blue",fontWeight:"bold"}),f=new Ve.fabric.Group([r,n,s,c,h],{left:t,top:l,selectable:!1,id:"vsho"===o?"realCoverWindowvsho":"realCoverWindowsho"});e.add(f)}else if("va"===o){const o=await _e(t,a,l,i),r=new Ve.fabric.Line([(a-t)/2,i-l,(a-t)/2,(i-l)/2+9],{stroke:"blue",strokeWidth:1}),n=new Ve.fabric.Line([0,(i-l)/2,a-t,(i-l)/2],{stroke:"blue",strokeWidth:2}),s=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:0,left:(a-t)/2-10,top:(i-l)/2+9,selectable:!1}),c=new Ve.fabric.Line([(a-t)/2,0,(a-t)/2,(i-l)/2-9-40],{stroke:"blue",strokeWidth:1}),h=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:180,left:(a-t)/2+10,top:(i-l)/2-9-40,selectable:!1}),f=new Ve.fabric.Text("V - A",{top:(i-l)/2-35,left:(a-t)/2-35,fontSize:30,fill:"blue",fontWeight:"bold"}),p=new Ve.fabric.Group([o,r,n,s,c,h,f],{left:t,top:l,selectable:!1,id:"realCoverWindowva"});e.add(p)}else if("vao"===o){const o=await _e(t,a,l,i),r=new Ve.fabric.Line([(a-t)/2,i-l,(a-t)/2,2*(i-l)/3+9],{stroke:"blue",strokeWidth:1}),n=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:0,left:(a-t)/2-10,top:2*(i-l)/3+9,selectable:!1}),s=new Ve.fabric.Line([(a-t)/2,0,(a-t)/2,2*(i-l)/3-9-40],{stroke:"blue",strokeWidth:1}),c=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:180,left:(a-t)/2+10,top:2*(i-l)/3-9-40,selectable:!1}),h=new Ve.fabric.Line([0,2*(i-l)/3,a-t,2*(i-l)/3],{stroke:"blue",strokeWidth:2}),f=new Ve.fabric.Text("V - AO",{top:2*(i-l)/3-35,left:(a-t)/2-35,fontSize:30,fill:"blue",fontWeight:"bold"}),p=new Ve.fabric.Group([o,r,n,s,h,c,f],{left:t,top:l,selectable:!1,id:"realCoverWindowvao"});e.add(p)}else if("des"===o||"des4"===o){const r=await _e(t,a,l,i),n=new Ve.fabric.Line([0,(i-l)/2,(a-t)/3-9,(i-l)/2],{stroke:"blue",strokeWidth:1}),s=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:90,left:(a-t)/3-9,top:(i-l)/2-10,selectable:!1}),c=new Ve.fabric.Line([a-t,(i-l)/2,2*(a-t)/3+9,(i-l)/2],{stroke:"blue",strokeWidth:1}),h=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:-90,left:2*(a-t)/3+9,top:(i-l)/2+10,selectable:!1}),f=new Ve.fabric.Line([(a-t)/3,0,(a-t)/3,i-l],{stroke:"blue",strokeWidth:2}),p=new Ve.fabric.Line([2*(a-t)/3,0,2*(a-t)/3,i-l],{stroke:"blue",strokeWidth:2}),d=new Ve.fabric.Text("des"===o?"DES":"DES4",{top:(i-l)/2-18,left:(a-t)/2-30,fontSize:30,fill:"blue",fontWeight:"bold"}),g=new Ve.fabric.Group([r,n,s,c,h,f,p,d],{left:t,top:l,selectable:!1,id:"des"===o?"realCoverWindowdes":"realCoverWindowdes4"});e.add(g)}else if("deslo"===o||"deslo4"===o){const r=await _e(t,a,l,i),n=new Ve.fabric.Line([0,i-l,(a-t)/3-9,0],{stroke:"blue",strokeWidth:1}),s=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:180*Math.atan(Math.abs((a-t)/3-9)/Math.abs(l-i))/Math.PI,left:(a-t)/3-18,top:2,selectable:!1}),c=new Ve.fabric.Line([a-t,i-l,2*(a-t)/3+9,0],{stroke:"blue",strokeWidth:1}),h=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:-180*Math.atan(Math.abs((a-t)/3)/Math.abs(l-i))/Math.PI,left:2*(a-t)/3,top:4,selectable:!1}),f=new Ve.fabric.Line([(a-t)/3,0,(a-t)/3,i-l],{stroke:"blue",strokeWidth:2}),p=new Ve.fabric.Line([2*(a-t)/3,0,2*(a-t)/3,i-l],{stroke:"blue",strokeWidth:2}),d=new Ve.fabric.Text("deslo"===o?"DESLO":"DESLO4",{top:(i-l)/2-9,left:(a-t)/2-55,fontSize:30,fill:"blue",fontWeight:"bold"}),g=new Ve.fabric.Group([r,n,s,c,h,f,p,d],{left:t,top:l,selectable:!1,id:"deslo"===o?"realCoverWindowdeslo":"realCoverWindowdeslo4"});e.add(g)}e.renderAll()}},Xe=async(e,t,a)=>{var l=await Fe(e,"realCoverWindow"),i=[];if("topframe"===a)for(const o of l)o.left>=t.left-18&&o.left+o.width<=t.left+t.width+18&&o.top>=t.top-18&&o.top<=t.top+18&&i.push(o);if("leftframe"===a)for(const o of l)o.left>=t.left-18&&o.left<=t.left+18&&o.top>=t.top-18&&o.top+o.height<=t.top+t.height+18&&i.push(o);if("rightframe"===a)for(const o of l)o.left+o.width>=t.left+t.width-18&&o.left+o.width<=t.left+t.width+18&&o.top>=t.top-18&&o.top+o.height<=t.top+t.height+18&&i.push(o);if("bottomframe"===a)for(const o of l)o.left>=t.left-18&&o.left+o.width<=t.left+t.width+18&&o.top+o.height>=t.top+t.height-18&&o.top+o.height<=t.top+t.height+18&&i.push(o);if("verticalOneBarBefore"===a)for(const o of l)o.left+o.width>=t.left-18&&o.left+o.width<=t.left+18&&o.top+o.height<=t.bottom+18&&o.top>=t.top-18&&i.push(o);if("verticalOneBarAfter"===a)for(const o of l)o.left>=t.left&&o.left<=t.left+36&&o.top+o.height<=t.bottom+18&&o.top>=t.top-18&&i.push(o);if("horizontalBarBefore"===a)for(const o of l)o.top+o.height>=t.top-18&&o.top+o.height<=t.top+18&&o.left+o.width<=t.right+18&&o.left>=t.left-18&&i.push(o);if("horizontalBarAfter"===a)for(const o of l)o.top>=t.top&&o.top<=t.top+36&&o.left+o.width<=t.right+18&&o.left>=t.left-18&&i.push(o);return 0!==i.length&&i},Ze=async(e,t,a,l)=>{const i=await e.getObjects();for(const o of i)o.id&&(o.id.includes("verticalOneBar")||o.id.includes("horizontalBar")||o.id.includes("realCoverWindow"))&&o.left>=t.left-18&&o.width+o.left<=t.left+t.width+18&&o.top>=t.top-18&&o.top+o.height<=t.top+t.height+18&&("T"===l?await o.set({top:o.top+a}):"L"===l&&await o.set({left:o.left+a}))},Ke=async e=>{const t=e.getObjects();for(const n of t)(n.id.includes("topframe")||n.id.includes("leftframe")||n.id.includes("rightframe")||n.id.includes("bottomframe"))&&e.remove(n);var a=await Fe(e,"mainImg");for(const n of a){var l=new Ve.fabric.Polyline([{x:18,y:18},{x:18+n.width,y:18},{x:18+n.width+18,y:0},{x:0,y:0},{x:18,y:18}],{left:n.left-18,top:n.top-18,id:"topframe"+n.id.replace("mainImg","").trim(),fill:"white",selectable:!1,hasControls:!1,stroke:"black",strokeWidth:1});e.add(l);var i=new Ve.fabric.Polyline([{x:0,y:0},{x:-18,y:-18},{x:-18,y:n.height+18},{x:0,y:n.height},{x:0,y:0}],{left:n.left-18,top:n.top-18,id:"leftframe"+n.id.replace("mainImg","").trim(),fill:"white",selectable:!1,hasControls:!1,stroke:"black",strokeWidth:1});e.add(i);var o=new Ve.fabric.Polyline([{x:0,y:0},{x:0,y:n.height},{x:18,y:n.height+18},{x:18,y:-18},{x:0,y:0}],{left:n.left+n.width,top:n.top-18,id:"rightframe"+n.id.replace("mainImg","").trim(),fill:"white",borderWidth:0,selectable:!1,hasControls:!1,stroke:"black",strokeWidth:1});e.add(o);var r=new Ve.fabric.Polyline([{x:0,y:0},{x:-18,y:18},{x:n.width+18,y:18},{x:n.width,y:0},{x:0,y:0}],{left:n.left-18,top:n.top+n.height,id:"bottomframe"+n.id.replace("mainImg","").trim(),fill:"white",borderWidth:0,selectable:!1,hasControls:!1,stroke:"black",strokeWidth:1});e.add(r)}};var $e=0,et=0,tt=!1;const at=(e,t,a,l,i,o,r,n)=>{e.target&&(!e.target.id.includes("Dim")||e.target.id.includes("totalDimH")||e.target.id.includes("totalDimV")||"zoomOff"!==n?(e.target.setCoords(),e.target.set({isDragging:!0}),$e=e.target.left,et=e.target.top):function(e,t,a,l,i,o,r,n){for(var s=document.getElementsByTagName("input"),c=0;c<s.length;c++)"DimInput"===s[c].id&&document.body.removeChild(s[c]);var h=document.createElement("input"),{differenceX:f,differenceY:p}=function(e){const t=e.getElement().getBoundingClientRect(),a=document.body.getBoundingClientRect(),l=t.left-a.left,i=t.top-a.top;return{differenceX:l,differenceY:i}}(e);h.id="DimInput",h.type="number",h.style.width="60px",h.style.fontSize="17px",h.value="",h.style.position="absolute",o.id.includes("DimH")?(h.style.top=o.top+p+"px",h.style.left=o.left+f+Math.ceil(o.width/2)-15+"px"):(h.style.top=o.top+p+Math.ceil(o.height/2)-15+"px",h.style.left=o.left+f-20+"px");document.body.appendChild(h),h.focus(),h.addEventListener("keydown",(async function(s){if("Enter"===s.key){const s=parseFloat(h.value);if(e.renderAll(),document.body.removeChild(h),!isNaN(s)){if(o.id.includes("firstDimV"))await st(e,400/s.toFixed(2),a),l(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])]),i(e=>e+1),e.off(),await ot(e,400/s.toFixed(2),a,i,l,r,n),await e.renderAll();else if(o.id.includes("firstDimH")){var c=await He(e,"mainImg"+o.id.replace("firstDimH","")),f=s*t-c.width,p=await Qe(e,c),d=await qe(e,c);if(!d&&s*t>10||d&&s*t+c.left>d[d.length-1].left+d[d.length-1].width+10){if(p)for(const e of p)e.left+e.width<=c.left+c.width+2&&e.left+e.width>=c.left+c.width-2&&await e.set({width:e.width+f});const o=await Xe(e,c,"rightframe");if(o)for(const a of o)await Ue(e,a.left,c.left+s*t,a.top,a.top+a.height,a.id.replace("realCoverWindow","")),e.remove(a);var g=await Fe(e,"mainImg");for(var m of g)m.id!==c.id&&"R"===a&&(await Ze(e,m,f,"L"),await m.set({left:m.left+f})),m.id===c.id||"T"!==a&&"B"!==a||m.left>c.left&&(await Ze(e,m,f,"L"),await m.set({left:m.left+f}));c.set({width:c.width+f}),await Ke(e),await st(e,t,a),await e.renderAll(),l(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])]),i(e=>e+1)}}if(o.id.includes("lastDimV")){var b="";y=(y=await Fe(e,"firstDimV")).sort((e,t)=>e.left-t.left);for(var u=0;u<y.length;u++)if("L"!==a&&"R"!==a){if(!(y[u].top<=o.top&&y[u].top+y[u].height>=o.top+o.height&&y[u].left<o.left&&y[u+1])||y[u+1].left>o.left){b=y[u].id.replace("firstDimV","");break}}else if(("L"===a||"R"===a)&&y[u].top<=o.top&&y[u].top+y[u].height>=o.top+o.height){b=y[u].id.replace("firstDimV","");break}c=await He(e,"mainImg"+b),p=await Qe(e,c),d=await qe(e,c);var w=[],x=c.top,v=c.top+c.height;const r=(E=!!p[o.id.replace("lastDimV","")]&&p[o.id.replace("lastDimV","")]).top,n=E.left;if(f=s*t-(o.height-1),E){for(var k=0;k<p.length;k++)p[k].left+p[k].width>=E.left&&p[k].left<=E.left+E.width&&(p[k].left===E.left&&p[k].top===E.top||w.push(p[k]));for(k=w.length-1;k>=0;k--)if(w[k].top<=r){x=w[k].top+w[k].height;break}for(k=0;k<w.length;k++)if(w[k].top>=r){v=w[k].top;break}if(await E.set({top:r+f}).setCoords(),E.top>x&&E.top+E.height<v){if(d)for(const e of d)e.top===r+18&&e.left>=E.left&&e.left+e.width<=E.left+E.width&&await e.set({top:e.top+f,height:e.height-f}).setCoords(),e.top+e.height<r+3&&e.top+e.height>r-3&&e.left>=E.left&&e.left+e.width<=E.left+E.width&&await e.set({height:e.height+f}).setCoords();const t={left:n,top:r,right:n+E.width},a=await Xe(e,t,"horizontalBarBefore");if(a)for(const i of a)await Ue(e,i.left,i.left+i.width,i.top,E.top,i.id.replace("realCoverWindow","")),e.remove(i);const l=await Xe(e,t,"horizontalBarAfter");if(l)for(const i of l)await Ue(e,i.left,i.left+i.width,E.top+18,i.top+i.height,i.id.replace("realCoverWindow","")),e.remove(i)}else await E.set({top:r}).setCoords();await Ke(e),await st(e,t,a),await e.renderAll(),l(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])]),i(e=>e+1)}}if(o.id.includes("lastDimH")){var y;b="";y=(y=await Fe(e,"firstDimH")).sort((e,t)=>e.top-t.top);for(u=0;u<y.length;u++)if("T"!==a&&"B"!==a){if(!(y[u].left<=o.left&&y[u].left+y[u].width>=o.left+o.width&&y[u].top<o.top&&y[u+1])||y[u+1].top>o.top){b=y[u].id.replace("firstDimH","");break}}else if(("T"===a||"B"===a)&&y[u].left<=o.left&&y[u].left+y[u].width>=o.left+o.width){b=y[u].id.replace("firstDimH","");break}c=await He(e,"mainImg"+b),p=await Qe(e,c),d=await qe(e,c);var E,C=[],S=c.left,W=c.left+c.width;const r=(E=!!d[o.id.replace("lastDimH","")]&&d[o.id.replace("lastDimH","")]).top,n=E.left;if(f=s*t-(o.width-1),E){for(var T=0;T<d.length;T++)d[T].top+d[T].height>=E.top&&d[T].top<=E.top+E.height&&(d[T].top===E.top&&d[T].left===E.left||C.push(d[T]));for(T=C.length-1;T>=0;T--)if(C[T].left<=n){S=C[T].left+C[T].width;break}for(T=0;T<C.length;T++)if(C[T].left>=n){W=C[T].left;break}if(await E.set({left:n+f}).setCoords(),E.left>S&&E.left+E.width<W){if(p)for(const e of p)e.left===n+18&&e.top>=E.top&&e.top+e.height<=E.top+E.height&&await e.set({left:e.left+f,width:e.width-f}).setCoords(),e.left+e.width<n+3&&e.left+e.width>n-3&&e.top>=E.top&&e.top+e.height<=E.top+E.height&&await e.set({width:e.width+f}).setCoords();const t={left:n,top:r,bottom:r+E.height},a=await Xe(e,t,"verticalOneBarBefore");if(a)for(const i of a)await Ue(e,i.left,E.left,i.top,i.top+i.height,i.id.replace("realCoverWindow","")),e.remove(i);const l=await Xe(e,t,"verticalOneBarAfter");if(l)for(const i of l)await Ue(e,E.left+18,i.left+i.width,i.top,i.top+i.height,i.id.replace("realCoverWindow","")),e.remove(i)}else await E.set({left:n}).setCoords();await Ke(e),await st(e,t,a),await e.renderAll(),l(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])]),i(e=>e+1)}}}}}))}(t,a,l,i,o,e.target,r,n))},lt=e=>{e.target&&e.target.id&&e.target.isDragging&&(e.target.id.includes("topframe")?(e.target.set({left:$e,top:et}),tt=!0):e.target.id.includes("leftframe")||e.target.id.includes("rightframe")?(e.target.set({top:et,left:$e}),tt=!0):e.target.id.includes("bottomframe")?(e.target.set({left:$e,top:et}),tt=!0):e.target.id.includes("verticalOneBar")?(e.target.set({top:et,left:$e}),tt=!0):e.target.id.includes("horizontalBar")&&(e.target.set({left:$e,top:et}),tt=!0))};var it;const ot=async(e,t,a,l,i,o,r)=>{e.isDrawingMode=!1,e.selection=!0;e.on("mouse:down",n=>at(n,e,t,a,i,l,o,r)),e.on("mouse:move",lt),it=l=>(async(e,t,a,l,i,o)=>{e.target&&e.target.isDragging&&tt&&(e.target.isDragging=!1,tt&&(tt=!1,await Ke(t),await st(t,a,l),await t.renderAll()))})(l,e,t,a),e.on("mouse:up",it),e.on("selection:cleared",()=>(e=>{e(!1)})(o)),e.on("selection:created",e=>((e,t)=>{/verticalOneBar/.test(e.selected[0].id)||/horizontalBar/.test(e.selected[0].id)?t(!0):t(!1)})(e,o))};const rt=(e,t,a,l,i,o)=>{const r=new Ve.fabric.Line([0,0,18,0],{stroke:"blue",strokeWidth:1}),n=new Ve.fabric.Line([9,0,9,l],{stroke:"blue",strokeWidth:1}),s=new Ve.fabric.Line([0,l,18,l],{stroke:"blue",strokeWidth:1}),c=new Ve.fabric.Text((l/t).toFixed(0).toString(),{top:l/2,left:-1,fontSize:20,fill:"blue",angle:-90,originX:"center",originY:"center"}),h=new Ve.fabric.Group([r,n,s,c],{left:i,top:o,selectable:!1,id:a});e.add(h)},nt=(e,t,a,l,i,o)=>{const r=new Ve.fabric.Line([0,0,0,18],{stroke:"blue",strokeWidth:1}),n=new Ve.fabric.Line([0,9,l,9],{stroke:"blue",strokeWidth:1}),s=new Ve.fabric.Line([l,0,l,18],{stroke:"blue",strokeWidth:1}),c=new Ve.fabric.Text((l/t).toFixed(0).toString(),{left:l/2-15,top:-15,fontSize:20,fill:"blue"}),h=new Ve.fabric.Group([r,n,s,c],{left:i,top:o,selectable:!1,id:a});e.add(h)},st=async(e,t,a)=>{var l=await Fe(e,"Dim");for(const d of l)e.remove(d);var i=await Fe(e,"mainImg");if("D"===a){const a=i[0].id.replace("mainImg","").trim();rt(e,t,"firstDimV"+a,i[0].height,i[0].left-80,i[0].top),nt(e,t,"firstDimH"+a,i[0].width,i[0].left,i[0].top-80);var o=await Qe(e,i[0]);if(o){rt(e,t,"lastDimV0",o[0].top+9-i[0].top,i[0].left-56,i[0].top);for(var r=1;r<o.length;r++)o[r].top-o[r-1].top>9&&rt(e,t,"lastDimV"+r,o[r].top-o[r-1].top,i[0].left-56,o[r-1].top+9);rt(e,t,"lastDimV"+o.length,i[0].top+i[0].height-o[o.length-1].top-9,i[0].left-56,o[o.length-1].top+9)}var n=await qe(e,i[0]);if(n){nt(e,t,"lastDimH0",n[0].left+9-i[0].left,i[0].left,i[0].top-56);for(var s=1;s<n.length;s++)n[s].left-n[s-1].left>9&&nt(e,t,"lastDimH"+s,n[s].left-n[s-1].left,n[s-1].left+9,i[0].top-56);nt(e,t,"lastDimH"+n.length,i[0].left+i[0].width-n[n.length-1].left-9,n[n.length-1].left+9,i[0].top-56)}}else if("T"===a||"B"===a){for(var c=[...i].sort((e,t)=>e.left-t.left),h=[...i].sort((e,t)=>e.top-t.top),f=0;f<c.length;f++){if(rt(e,t,"firstDimV"+c[f].id.replace("mainImg",""),c[f].height,c[0].left-80-62*(c.length-1-f),c[f].top),nt(e,t,"firstDimH"+c[f].id.replace("mainImg",""),c[f].width,c[f].left,h[0].top-80),o=await Qe(e,c[f])){for(rt(e,t,"lastDimV0",o[0].top+9-c[f].top,c[0].left-56-62*(c.length-1-f),c[f].top),r=1;r<o.length;r++)o[r].top-o[r-1].top>9&&rt(e,t,"lastDimV"+r,o[r].top-o[r-1].top,c[0].left-56-62*(c.length-1-f),o[r-1].top+9);rt(e,t,"lastDimV"+o.length,c[f].top+c[f].height-o[o.length-1].top-9,c[0].left-56-62*(c.length-1-f),o[o.length-1].top+9)}if(n=await qe(e,c[f])){for(nt(e,t,"lastDimH0",n[0].left+9-c[f].left,c[f].left,h[0].top-56),s=1;s<n.length;s++)n[s].left-n[s-1].left>9&&nt(e,t,"lastDimH"+s,n[s].left-n[s-1].left,n[s-1].left+9,h[0].top-56);nt(e,t,"lastDimH"+n.length,c[f].left+c[f].width-n[n.length-1].left-9,n[n.length-1].left+9,h[0].top-56)}}nt(e,t,"totalDimH",c[c.length-1].width+c[c.length-1].left-c[0].left,c[0].left,h[0].top-160+36)}else if("L"===a||"R"===a){c=[...i].sort((e,t)=>e.top-t.top);var p=[...i].sort((e,t)=>e.left-t.left);for(f=0;f<c.length;f++){if(nt(e,t,"firstDimH"+c[f].id.replace("mainImg",""),c[f].width,c[f].left,c[0].top-80-62*(c.length-1-f)),rt(e,t,"firstDimV"+c[f].id.replace("mainImg",""),c[f].height,p[0].left-80,c[f].top),o=await Qe(e,c[f])){for(rt(e,t,"lastDimV0",o[0].top+9-c[f].top,p[0].left-56,c[f].top),r=1;r<o.length;r++)o[r].top-o[r-1].top>9&&rt(e,t,"lastDimV"+r,o[r].top-o[r-1].top,p[0].left-56,o[r-1].top+9);rt(e,t,"lastDimV"+o.length,c[f].top+c[f].height-o[o.length-1].top-9,p[0].left-56,o[o.length-1].top+9)}if(n=await qe(e,c[f])){for(nt(e,t,"lastDimH0",n[0].left+9-c[f].left,c[f].left,c[0].top-56-62*(c.length-1-f)),s=1;s<n.length;s++)n[s].left-n[s-1].left>9&&nt(e,t,"lastDimH"+s,n[s].left-n[s-1].left,n[s-1].left+9,c[0].top-56-62*(c.length-1-f));nt(e,t,"lastDimH"+n.length,c[f].left+c[f].width-n[n.length-1].left-9,n[n.length-1].left+9,c[0].top-56-62*(c.length-1-f))}}rt(e,t,"totalDimV",c[c.length-1].height+c[c.length-1].top-c[0].top,p[0].left-160+36,c[0].top)}},ct=(e,t,a,l,i,o)=>{const r=async t=>{const a=e.getPointer(t.e),l=a.x,i=a.y;var r=!1,n=0,s=0,c=0,h=0,f=[],p=[],d=await Fe(e,"cashHorizontalBar");e.remove(...d);var g=await Fe(e,"realCoverWindow"),m=!0;for(const e of g)if(e.left<=l&&e.left+e.width>=l&&e.top<=i&&e.top+e.height>=i){m=!1;break}if(m){for(var b,u=await Fe(e,"mainImg"),w=0;w<u.length;w++)if(l>=u[w].left&&l<=u[w].left+u[w].width&&i>=u[w].top+9&&i<=u[w].top+u[w].height-9){r=!0,n=u[w].left,s=u[w].width,c=u[w].top,h=u[w].height,b=u[w];break}if(r){for(var x=await Qe(e,b),v=!0,k=0;k<x.length;k++)x[k].left<=l&&x[k].left+x[k].width>=l&&p.push(x[k]);for(k=0;k<p.length;k++)if(p[k].top-9<i&&p[k].top+p[k].height+9>i){v=!1;break}if(v){for(k=p.length-1;k>=0;k--)if(p[k].top<=i){c=p[k].top+p[k].height;break}for(k=0;k<p.length;k++)if(p[k].top>=i){h=p[k].top-c;break}if(0!==p.length&&h===b.height&&(h=b.top+b.height-c),h<=20*o&&(v=!1),v){for(var y=await qe(e,b),E=0;E<y.length;E++)y[E].top+9<i&&y[E].top+y[E].height-9>i&&f.push(y[E]);if(0!==f.length){if(l<f[0].left)s=f[0].left-n;else if(l>f[f.length-1].left+18)s=n+s-f[f.length-1].left-18,n=f[f.length-1].left+18;else for(var C=0;C<f.length-1;C++){if(l<=f[C].left+18&&l>=f[C].left||l<=f[C+1].left+18&&l>=f[C+1].left){v=!1;break}if(l>f[C].left+18&&l<f[C+1].left){s=f[C+1].left-f[C].left-18,n=f[C].left+18;break}}l<=f[0].left+18&&l>=f[0].left&&(v=!1)}if(v)for(var S=0;S<o;S++){var W=new Ve.fabric.Rect({id:"cashHorizontalBar",left:n,top:c+h/(o+1)*(S+1)-9,width:s,height:18,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5});e.add(W),e.renderAll()}}}}}},n=async r=>{const n=e.getPointer(r.e),s=n.x,c=n.y;var h=!1,f=0,p=0,d=0,g=0,m=[],b=[],u=await Fe(e,"cashHorizontalBar");e.remove(...u);var w=await Fe(e,"realCoverWindow"),x=!0;for(const e of w)if(e.left<=s&&e.left+e.width>=s&&e.top<=c&&e.top+e.height>=c){x=!1;break}if(x){for(var v,k=await Fe(e,"mainImg"),y=0;y<k.length;y++)if(s>=k[y].left&&s<=k[y].left+k[y].width&&c>=k[y].top+9&&c<=k[y].top+k[y].height-9){h=!0,f=k[y].left,p=k[y].width,d=k[y].top,g=k[y].height,v=k[y];break}if(h){for(var E=await Qe(e,v),C=!0,S=0;S<E.length;S++)E[S].left<=s&&E[S].left+E[S].width>=s&&b.push(E[S]);for(S=0;S<b.length;S++)if(b[S].top-9<c&&b[S].top+b[S].height+9>c){C=!1;break}if(C){for(S=b.length-1;S>=0;S--)if(b[S].top<=c){d=b[S].top+b[S].height;break}for(S=0;S<b.length;S++)if(b[S].top>=c){g=b[S].top-d;break}if(0!==b.length&&g===v.height&&(g=v.top+v.height-d),g<=20*o&&(C=!1),C){for(var W=await qe(e,v),T=0;T<W.length;T++)W[T].top+9<c&&W[T].top+W[T].height-9>c&&m.push(W[T]);if(0!==m.length){if(s<m[0].left)p=m[0].left-f;else if(s>m[m.length-1].left+18)p=f+p-m[m.length-1].left-18,f=m[m.length-1].left+18;else for(var O=0;O<m.length-1;O++){if(s<=m[O].left+18&&s>=m[O].left||s<=m[O+1].left+18&&s>=m[O+1].left){C=!1;break}if(s>m[O].left+18&&s<m[O+1].left){p=m[O+1].left-m[O].left-18,f=m[O].left+18;break}}s<=m[0].left+18&&s>=m[0].left&&(C=!1)}if(C)for(var N=0;N<o;N++){var L=new Ve.fabric.Rect({id:"horizontalBar",left:f,top:d+g/(o+1)*(N+1)-9,width:p,height:18,fill:"white",stroke:"black",strokeWidth:1,hasControls:!1,selectable:!0});e.add(L)}await st(e,t,a),e.renderAll(),i(e=>e+1),l(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])])}}}}};e.on("mouse:move",r),e.on("mouse:down",n),document.addEventListener("mousedown",()=>{e.off("mouse:move",r),e.off("mouse:down",n)})},ht=(e,t,a,l,i,o)=>{const r=async t=>{const a=e.getPointer(t.e),l=a.x,i=a.y;var r=!1,n=0,s=0,c=0,h=0,f=[],p=[],d=await Fe(e,"cashVerticalOneBar");e.remove(...d);var g=await Fe(e,"realCoverWindow"),m=!0;for(const e of g)if(e.left<=l&&e.left+e.width>=l&&e.top<=i&&e.top+e.height>=i){m=!1;break}if(m){for(var b,u=await Fe(e,"mainImg"),w=0;w<u.length;w++)if(l>=u[w].left+9&&l<=u[w].left+u[w].width-9&&i>=u[w].top&&i<=u[w].top+u[w].height){r=!0,n=u[w].left,s=u[w].width,c=u[w].top,h=u[w].height,b=u[w];break}if(r){for(var x=await qe(e,b),v=!0,k=0;k<x.length;k++)x[k].top<=i&&x[k].top+x[k].height>=i&&f.push(x[k]);for(k=0;k<f.length;k++)if(f[k].left-9<l&&f[k].left+f[k].width+9>l){v=!1;break}if(v){for(k=f.length-1;k>=0;k--)if(f[k].left<=l){n=f[k].left+f[k].width;break}for(k=0;k<f.length;k++)if(f[k].left>=l){s=f[k].left-n;break}if(0!==f.length&&s===b.width&&(s=b.left+b.width-n),s<=20*o&&(v=!1),v){for(var y=await Qe(e,b),E=0;E<y.length;E++)y[E].left+9<l&&y[E].left+y[E].width-9>l&&p.push(y[E]);if(0!==p.length){if(i<p[0].top)h=p[0].top-c;else if(i>p[p.length-1].top+18)h=c+h-p[p.length-1].top-18,c=p[p.length-1].top+18;else for(var C=0;C<p.length-1;C++){if(i<=p[C].top+18&&i>=p[C].top||i<=p[C+1].top+18&&i>=p[C+1].top){v=!1;break}if(i>p[C].top+18&&i<p[C+1].top){h=p[C+1].top-p[C].top-18,c=p[C].top+18;break}}i<=p[0].top+18&&i>=p[0].top&&(v=!1)}if(v)for(var S=0;S<o;S++){var W=new Ve.fabric.Rect({id:"cashVerticalOneBar",top:c,left:n+s/(o+1)*(S+1)-9,height:h,width:18,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5});e.add(W),e.renderAll()}}}}}},n=async r=>{const n=e.getPointer(r.e),s=n.x,c=n.y;var h=!1,f=0,p=0,d=0,g=0,m=[],b=[],u=await Fe(e,"cashVerticalOneBar");e.remove(...u);var w=await Fe(e,"realCoverWindow"),x=!0;for(const e of w)if(e.left<=s&&e.left+e.width>=s&&e.top<=c&&e.top+e.height>=c){x=!1;break}if(x){for(var v,k=await Fe(e,"mainImg"),y=0;y<k.length;y++)if(s>=k[y].left+9&&s<=k[y].left+k[y].width-9&&c>=k[y].top&&c<=k[y].top+k[y].height){h=!0,f=k[y].left,p=k[y].width,d=k[y].top,g=k[y].height,v=k[y];break}if(h){for(var E=await qe(e,v),C=!0,S=0;S<E.length;S++)E[S].top<=c&&E[S].top+E[S].height>=c&&m.push(E[S]);for(S=0;S<m.length;S++)if(m[S].left-9<s&&m[S].left+m[S].width+9>s){C=!1;break}if(C){for(S=m.length-1;S>=0;S--)if(m[S].left<=s){f=m[S].left+m[S].width;break}for(S=0;S<m.length;S++)if(m[S].left>=s){p=m[S].left-f;break}if(0!==m.length&&p===v.width&&(p=v.left+v.width-f),p<=20*o&&(C=!1),C){for(var W=await Qe(e,v),T=0;T<W.length;T++)W[T].left+9<s&&W[T].left+W[T].width-9>s&&b.push(W[T]);if(0!==b.length){if(c<b[0].top)g=b[0].top-d;else if(c>b[b.length-1].top+18)g=d+g-b[b.length-1].top-18,d=b[b.length-1].top+18;else for(var O=0;O<b.length-1;O++){if(c<=b[O].top+18&&c>=b[O].top||c<=b[O+1].top+18&&c>=b[O+1].top){C=!1;break}if(c>b[O].top+18&&c<b[O+1].top){g=b[O+1].top-b[O].top-18,d=b[O].top+18;break}}c<=b[0].top+18&&c>=b[0].top&&(C=!1)}if(C)for(var N=0;N<o;N++){var L=new Ve.fabric.Rect({id:"verticalOneBar",top:d,left:f+p/(o+1)*(N+1)-9,height:g,width:18,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});e.add(L)}await st(e,t,a),e.renderAll(),i(e=>e+1),l(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])])}}}}};e.on("mouse:move",r),e.on("mouse:down",n),document.addEventListener("mousedown",()=>{e.off("mouse:move",r),e.off("mouse:down",n)})},ft=async(e,t,a,l,i,o,r,n,s,c,h,f)=>{e.clear(),e.off();var p,d=await Je(Ge);p=(400/n).toFixed(2);const g=r*p,m=n*p;if(d.set({id:"mainImg0",width:g,height:m,left:(e.width-g)/2,top:(e.height-m)/2,stroke:"black",strokeWidth:1,selectable:!1,hasControls:!1,zIndex:0}),await e.add(d),1===s){const t=new Ve.fabric.Rect({id:"verticalOneBar",top:d.top,left:d.left+d.width/2-9,height:d.height,width:18,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});e.add(t)}if(2===s){const t=new Ve.fabric.Rect({id:"verticalOneBar",top:d.top,left:d.left+d.width/3-9,height:d.height,width:18,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});e.add(t);const a=new Ve.fabric.Rect({id:"verticalOneBar",top:d.top,left:d.left+d.width/3*2-9,height:d.height,width:18,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});e.add(a)}if(3===s){const t=new Ve.fabric.Rect({id:"horizontalBar",left:d.left,top:d.top+d.height/2-9,width:d.width,height:18,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});e.add(t)}if(4===s){const t=new Ve.fabric.Rect({id:"horizontalBar",left:d.left,top:d.top+d.height/3-9,width:d.width,height:18,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});await e.add(t);const a=new Ve.fabric.Rect({id:"verticalOneBar",top:d.top+d.height/3+9,left:d.left+d.width/2-9,height:d.height/3*2-9,width:18,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});e.add(a)}if(5===s){const t=new Ve.fabric.Rect({id:"horizontalBar",left:d.left,top:d.top+d.height/2-9,width:d.width,height:18,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});await e.add(t);const a=new Ve.fabric.Rect({id:"verticalOneBar",top:d.top,left:d.left+d.width/2-9,height:d.height/2-9,width:18,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});e.add(a);const l=new Ve.fabric.Rect({id:"verticalOneBar",top:d.top+d.height/2+9,left:d.left+d.width/2-9,height:d.height/2-9,width:18,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});e.add(l)}await Ke(e),await st(e,p,"D");const b=await e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"]);await l(()=>[b]),await t(e=>[...e,p]),await a(e=>[...e,"D"]),await h(e=>[...e,r]),await f(e=>[...e,n]),await ot(e,p,"D",i,l,o,c),await e.renderAll()},pt=(e,t,a,l,i,o,r,n,s,c)=>{const h=async t=>{const a=e.getPointer(t.e),l=a.x,i=a.y;var o=!1,r=0,n=0,s=0,c=await He(e,"cashSplitHorizontal");e.remove(c);var h=await Fe(e,"realCoverWindow"),f=!0;for(const e of h)if(e.left<=l&&e.left+e.width>=l&&e.top<=i&&e.top+e.height>=i){f=!1;break}if(f){for(var p,d=await Fe(e,"mainImg"),g=0;g<d.length;g++)if(l>=d[g].left&&l<=d[g].left+d[g].width&&i>=d[g].top&&i<=d[g].top+d[g].height){o=!0,r=d[g].left,n=d[g].width,s=d[g].height,p=d[g];break}if(o&&s>40){var m=await qe(e,p),b=await Qe(e,p);if(!m&&!b){var u=new Ve.fabric.Rect({id:"cashSplitHorizontal",left:r,top:i-2,width:n,height:4,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5});e.add(u)}}}},f=async h=>{const f=e.getPointer(h.e),p=f.x,d=f.y;var g=!1,m=0,b=0,u=0,w=0,x={},v=await He(e,"cashSplitHorizontal");e.remove(v);var k=await Fe(e,"realCoverWindow"),y=!0;for(const e of k)if(e.left<=p&&e.left+e.width>=p&&e.top<=d&&e.top+e.height>=d){y=!1;break}if(y){for(var E=await Fe(e,"mainImg"),C=0;C<E.length;C++)p>=E[C].left&&p<=E[C].left+E[C].width&&d>=E[C].top&&d<=E[C].top+E[C].height&&(g=!0,m=E[C].left,b=E[C].width,u=E[C].top,w=E[C].height,x=E[C]);if(g&&w>40){var S=await Je(Ge),W=await qe(e,x),T=await Qe(e,x);W||T||(x.set({height:d-u-2-18}),S.set({id:"mainImg"+E.length,width:b,height:u+w-d-2-18,left:m,top:d+2+18,stroke:"black",strokeWidth:1,selectable:!1,hasControls:!1,zIndex:0}),e.add(S),await Ke(e),await st(e,a,o),"D"===l&&await i(e=>{const a=[...e];return a[t]=o,a}),e.off(),await ot(e,a,o,n,r,s,c),n(e=>e+1),r(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])]),e.renderAll())}}};"D"!==l&&l!==o||(e.on("mouse:move",h),e.on("mouse:down",f),document.addEventListener("mousedown",()=>{e.off("mouse:move",h),e.off("mouse:down",f)}))},dt=(e,t,a,l,i,o,r,n,s,c)=>{const h=async t=>{const a=e.getPointer(t.e),l=a.x,i=a.y;var o=!1,r=0,n=0,s=0,c=await He(e,"cashSplitVertical");e.remove(c);var h=await Fe(e,"realCoverWindow"),f=!0;for(const e of h)if(e.left<=l&&e.left+e.width>=l&&e.top<=i&&e.top+e.height>=i){f=!1;break}if(f){for(var p,d=await Fe(e,"mainImg"),g=0;g<d.length;g++)if(l>=d[g].left&&l<=d[g].left+d[g].width&&i>=d[g].top&&i<=d[g].top+d[g].height){o=!0,r=d[g].width,n=d[g].top,s=d[g].height,p=d[g];break}if(o&&r>40){var m=await qe(e,p),b=await Qe(e,p);if(!m&&!b){var u=new Ve.fabric.Rect({id:"cashSplitVertical",left:l-2,top:n,width:4,height:s,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5});e.add(u)}}}},f=async h=>{const f=e.getPointer(h.e),p=f.x,d=f.y;var g=!1,m=0,b=0,u=0,w=0,x={},v=await He(e,"cashSplitVertical");e.remove(v);var k=await Fe(e,"realCoverWindow"),y=!0;for(const e of k)if(e.left<=p&&e.left+e.width>=p&&e.top<=d&&e.top+e.height>=d){y=!1;break}if(y){for(var E=await Fe(e,"mainImg"),C=0;C<E.length;C++)p>=E[C].left&&p<=E[C].left+E[C].width&&d>=E[C].top&&d<=E[C].top+E[C].height&&(g=!0,m=E[C].left,b=E[C].width,u=E[C].top,w=E[C].height,x=E[C]);if(g&&b>40){var S=await Je(Ge),W=await qe(e,x),T=await Qe(e,x);W||T||(x.set({width:p-m-2-18}),S.set({id:"mainImg"+E.length,height:w,width:m+b-p-2-18,top:u,left:p+2+18,stroke:"black",strokeWidth:1,selectable:!1,hasControls:!1,zIndex:0}),e.add(S),await Ke(e),await st(e,a,o),"D"===l&&await i(e=>{const a=[...e];return a[t]=o,a}),e.off(),await ot(e,a,o,n,r,s,c),n(e=>e+1),r(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])]),e.renderAll())}}};"D"!==l&&l!==o||(e.on("mouse:move",h),e.on("mouse:down",f),document.addEventListener("mousedown",()=>{e.off("mouse:move",h),e.off("mouse:down",f)}))},gt=(e,t,a,l)=>{const i=async t=>{const a=e.getPointer(t.e),i=a.x,o=a.y;var r=!1,n=await He(e,"cashCoverWindow");n&&e.remove(n);for(var s,c=await Fe(e,"mainImg"),h=0;h<c.length;h++)if(i>=c[h].left&&i<=c[h].left+c[h].width&&o>=c[h].top&&o<=c[h].top+c[h].height){r=!0,s=c[h];break}if(r){for(var f=s.left,p=s.left+s.width,d=s.top,g=s.top+s.height,m=await qe(e,s),b=await Qe(e,s),u=[],w=[],x=0;x<m.length;x++)m[x].top<o&&m[x].top+m[x].height>o&&u.push(m[x]);for(x=0;x<b.length;x++)b[x].left<i&&b[x].left+b[x].width>i&&w.push(b[x]);if(u.length>0)if(i<u[0].left)p=u[0].left;else if(i>u[u.length-1].left+u[u.length-1].width)f=u[u.length-1].left+u[u.length-1].width;else if(1===u.length)f=0,p=0;else for(x=0;x<u.length-1;x++){if(i>u[x].left+u[x].width&&i<u[x+1].left){f=u[x].left+u[x].width,p=u[x+1].left;break}f=0,p=0}if(w.length>0)if(o<w[0].top)g=w[0].top;else if(o>w[w.length-1].top+w[w.length-1].height)d=w[w.length-1].top+w[w.length-1].height;else if(1===w.length)d=0,g=0;else for(x=0;x<w.length-1;x++){if(o>w[x].top+w[x].height&&o<w[x+1].top){d=w[x].top+w[x].height,g=w[x+1].top;break}d=0,g=0}if(0!==f&&0!==p&&0!==d&&0!==g&&g-d>28.8&&p-f>28.8){if("csl"===l||"ccsl"===l){var v=await Ye(f,p,d,g),k=new Ve.fabric.Polyline([{x:p,y:d},{x:f,y:(g-d)/2+d},{x:p,y:g}],{fill:"",stroke:"black",strokeWidth:1,closed:!1});const t=new Ve.fabric.Group([v,k],{selectable:!1,id:"cashCoverWindow"});e.add(t)}else if("csr"===l||"ccsr"===l){const t=await Ye(f,p,d,g);k=new Ve.fabric.Polyline([{x:f,y:d},{x:p,y:(g-d)/2+d},{x:f,y:g}],{fill:"",stroke:"black",strokeWidth:1,closed:!1});const a=new Ve.fabric.Group([t,k],{selectable:!1,id:"cashCoverWindow"});e.add(a)}else if("awv"===l||"cawv"===l){const t=await Ye(f,p,d,g);k=new Ve.fabric.Polyline([{x:f,y:g},{x:(p-f)/2+f,y:d+2.25},{x:p,y:g}],{fill:"",stroke:"black",strokeWidth:1,closed:!1});const a=new Ve.fabric.Group([t,k],{selectable:!1,id:"cashCoverWindow"});e.add(a)}else if("vf"===l||"cvf"===l){const t=await Ye(f,p,d,g),a=new Ve.fabric.Text("F",{top:d+(g-d)/2-18,left:f+(p-f)/2-18,fontSize:36,fill:"black",fontWeight:"bold"}),l=new Ve.fabric.Group([t,a],{selectable:!1,id:"cashCoverWindow"});e.add(l)}else if("vsf"===l||"cvsf"===l){const t=await Ye(f,p,d,g),a=new Ve.fabric.Group([t],{selectable:!1,id:"cashCoverWindow"});e.add(a)}else if("vss"===l||"ss"===l){const t=await Ye(f,f+(p-f)/2,d,g),a=new Ve.fabric.Line([f,d+(g-d)/2,f+(p-f)/2-9,d+(g-d)/2],{stroke:"black",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:90,left:f+(p-f)/2-9,top:d+(g-d)/2-10,selectable:!1}),i=new Ve.fabric.Group([t,a,l],{selectable:!1,id:"cashCoverWindow"});e.add(i)}else if("vslo"===l||"slo"===l){const t=await Ye(f,f+(p-f)/2,d,g),a=new Ve.fabric.Line([f,g,f+(p-f)/2-9,d],{stroke:"black",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:180*Math.atan(Math.abs((p-f)/2-9)/Math.abs(d-g))/Math.PI,left:f+(p-f)/2-15,top:d-3,selectable:!1}),i=new Ve.fabric.Group([t,a,l],{selectable:!1,id:"cashCoverWindow"});e.add(i)}else if("vsso"===l||"sso"===l){const t=await Ye(f,f+(p-f)/3,d,g),a=new Ve.fabric.Line([f,(g-d)/2+d,f+(p-f)/3-9,(g-d)/2+d],{stroke:"black",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:90,left:f+(p-f)/3-9,top:(g-d)/2+d-10,selectable:!1}),i=new Ve.fabric.Group([t,a,l],{selectable:!1,id:"cashCoverWindow"});e.add(i)}else if("vssr"===l||"ssr"===l){const t=await Ye(f+2*(p-f)/3,p,d,g),a=new Ve.fabric.Line([p,d+(g-d)/2,f+2*(p-f)/3+9,d+(g-d)/2],{stroke:"black",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:-90,left:f+2*(p-f)/3+9,top:d+(g-d)/2+10,selectable:!1}),i=new Ve.fabric.Group([t,a,l],{selectable:!1,id:"cashCoverWindow"});e.add(i)}else if("vslos"===l||"slos"===l){const t=await Ye(f,f+(p-f)/3,d,g),a=new Ve.fabric.Line([f,g,f+(p-f)/3-9,d],{stroke:"black",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:180*Math.atan(Math.abs((p-f)/3-9)/Math.abs(d-g))/Math.PI,left:f+(p-f)/3-15,top:d-3,selectable:!1}),i=new Ve.fabric.Group([t,a,l],{selectable:!1,id:"cashCoverWindow"});e.add(i)}else if("vslosr"===l||"slosr"===l){const t=await Ye(f+2*(p-f)/3,p,d,g),a=new Ve.fabric.Line([p,g,f+2*(p-f)/3+9,d],{stroke:"black",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:-180*Math.atan(Math.abs((p-f)/3)/Math.abs(d-g))/Math.PI,left:f+2*(p-f)/3+5,top:d,selectable:!1}),i=new Ve.fabric.Group([t,a,l],{selectable:!1,id:"cashCoverWindow"});e.add(i)}else if("vsh"===l||"sh"===l){const t=await Ye(f,p,d+(g-d)/2,g),a=new Ve.fabric.Line([f+(p-f)/2,g,f+(p-f)/2,d+(g-d)/2+9],{stroke:"black",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:0,left:f+(p-f)/2-10,top:d+(g-d)/2+9,selectable:!1}),i=new Ve.fabric.Group([t,a,l],{selectable:!1,id:"cashCoverWindow"});e.add(i)}else if("vsho"===l||"sho"===l){const t=await Ye(f,p,d+2*(g-d)/3,g),a=new Ve.fabric.Line([f+(p-f)/2,g,f+(p-f)/2,d+2*(g-d)/3+9],{stroke:"black",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:0,left:f+(p-f)/2-10,top:d+2*(g-d)/3+9,selectable:!1}),i=new Ve.fabric.Group([t,a,l],{selectable:!1,id:"cashCoverWindow"});e.add(i)}else if("va"===l){const t=await Ye(f,p,d+(g-d)/2,g),a=new Ve.fabric.Line([f+(p-f)/2,g,f+(p-f)/2,d+(g-d)/2+9],{stroke:"black",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:0,left:f+(p-f)/2-10,top:d+(g-d)/2+9,selectable:!1}),i=new Ve.fabric.Line([f+(p-f)/2,d,f+(p-f)/2,d+(g-d)/2-9],{stroke:"black",strokeWidth:1}),o=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:180,left:f+(p-f)/2+10,top:d+(g-d)/2-9,selectable:!1}),r=new Ve.fabric.Group([t,a,l,i,o],{selectable:!1,id:"cashCoverWindow"});e.add(r)}else if("vao"===l){const t=await Ye(f,p,d+2*(g-d)/3,g),a=new Ve.fabric.Line([f+(p-f)/2,g,f+(p-f)/2,d+2*(g-d)/3+9],{stroke:"black",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:0,left:f+(p-f)/2-10,top:d+2*(g-d)/3+9,selectable:!1}),i=new Ve.fabric.Line([f+(p-f)/2,d,f+(p-f)/2,d+2*(g-d)/3-9],{stroke:"black",strokeWidth:1}),o=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:180,left:f+(p-f)/2+10,top:d+2*(g-d)/3-9,selectable:!1}),r=new Ve.fabric.Group([t,a,l,i,o],{selectable:!1,id:"cashCoverWindow"});e.add(r)}else if("des"===l||"des4"===l){const t=await Ye(f,f+(p-f)/3,d,g),a=new Ve.fabric.Line([f,d+(g-d)/2,f+(p-f)/3-9,d+(g-d)/2],{stroke:"black",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:90,left:f+(p-f)/3-9,top:d+(g-d)/2-10,selectable:!1}),i=await Ye(f+2*(p-f)/3,p,d,g),o=new Ve.fabric.Line([p,d+(g-d)/2,f+2*(p-f)/3+9,d+(g-d)/2],{stroke:"black",strokeWidth:1}),r=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:-90,left:f+2*(p-f)/3+9,top:d+(g-d)/2+10,selectable:!1}),n=new Ve.fabric.Group([t,a,l,i,o,r],{selectable:!1,id:"cashCoverWindow"});e.add(n)}else if("deslo"===l||"deslo4"===l){const t=await Ye(f,f+(p-f)/3,d,g),a=new Ve.fabric.Line([f,g,f+(p-f)/3-9,d],{stroke:"black",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:180*Math.atan(Math.abs((p-f)/3-9)/Math.abs(d-g))/Math.PI,left:f+(p-f)/3-15,top:d-3,selectable:!1}),i=await Ye(f+2*(p-f)/3,p,d,g),o=new Ve.fabric.Line([p,g,f+2*(p-f)/3+9,d],{stroke:"black",strokeWidth:1}),r=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"black",angle:-180*Math.atan(Math.abs((p-f)/3)/Math.abs(d-g))/Math.PI,left:f+2*(p-f)/3+5,top:d,selectable:!1}),n=new Ve.fabric.Group([t,a,l,i,o,r],{selectable:!1,id:"cashCoverWindow"});e.add(n)}e.renderAll()}}},o=async i=>{const o=e.getPointer(i.e),r=o.x,n=o.y;var s=!1,c=await He(e,"cashCoverWindow");c&&e.remove(c);for(var h,f=await Fe(e,"mainImg"),p=0;p<f.length;p++)if(r>=f[p].left&&r<=f[p].left+f[p].width&&n>=f[p].top&&n<=f[p].top+f[p].height){s=!0,h=f[p];break}if(s){for(var d=h.left,g=h.left+h.width,m=h.top,b=h.top+h.height,u=await qe(e,h),w=await Qe(e,h),x=[],v=[],k=0;k<u.length;k++)u[k].top<n&&u[k].top+u[k].height>n&&x.push(u[k]);for(k=0;k<w.length;k++)w[k].left<r&&w[k].left+w[k].width>r&&v.push(w[k]);if(x.length>0)if(r<x[0].left)g=x[0].left;else if(r>x[x.length-1].left+x[x.length-1].width)d=x[x.length-1].left+x[x.length-1].width;else if(1===x.length)d=0,g=0;else for(k=0;k<x.length-1;k++){if(r>x[k].left+x[k].width&&r<x[k+1].left){d=x[k].left+x[k].width,g=x[k+1].left;break}d=0,g=0}if(v.length>0)if(n<v[0].top)b=v[0].top;else if(n>v[v.length-1].top+v[v.length-1].height)m=v[v.length-1].top+v[v.length-1].height;else if(1===v.length)m=0,b=0;else for(k=0;k<v.length-1;k++){if(n>v[k].top+v[k].height&&n<v[k+1].top){m=v[k].top+v[k].height,b=v[k+1].top;break}m=0,b=0}if(0!==d&&0!==g&&0!==m&&0!==b&&b-m>28.8&&g-d>28.8){for(var y=await Fe(e,"realCoverWindow"),E=0;E<y.length;E++)y[E].left>d-18&&y[E].left+y[E].width<=g+18&&y[E].top>=m-18&&y[E].top+y[E].height<=b+18&&e.remove(y[E]);if("csl"===l||"ccsl"===l){var C=await _e(d,g,m,b),S=new Ve.fabric.Polyline([{x:g-d,y:0},{x:0,y:(b-m)/2},{x:g-d,y:b-m}],{fill:"",stroke:"blue",strokeWidth:1,closed:!1});const t=new Ve.fabric.Text("csl"===l?"CS - L":"CCS - L",{top:(b-m)/2-20,left:(g-d)/2-40,fontSize:30,fill:"blue",fontWeight:"bold"}),a=new Ve.fabric.Group([C,S,t],{left:d,top:m,selectable:!1,id:"csl"===l?"realCoverWindowcsl":"realCoverWindowccsl"});e.add(a)}else if("csr"===l||"ccsr"===l){const t=await _e(d,g,m,b);S=new Ve.fabric.Polyline([{x:0,y:0},{x:g-d,y:(b-m)/2},{x:0,y:b-m}],{fill:"",stroke:"blue",strokeWidth:1,closed:!1});const a=new Ve.fabric.Text("csr"===l?"CS - R":"CCS - R",{top:(b-m)/2-20,left:(g-d)/2-40,fontSize:30,fill:"blue",fontWeight:"bold"}),i=new Ve.fabric.Group([t,S,a],{left:d,top:m,selectable:!1,id:"csr"===l?"realCoverWindowcsr":"realCoverWindowccsr"});e.add(i)}else if("awv"===l||"cawv"===l){const t=await _e(d,g,m,b);S=new Ve.fabric.Polyline([{x:0,y:b-m},{x:(g-d)/2,y:2.25},{x:g-d,y:b-m}],{fill:"",stroke:"blue",strokeWidth:1,closed:!1});const a=new Ve.fabric.Text("awv"===l?"AW - V":"CAW - V",{top:(b-m)/2,left:(g-d)/2-40,fontSize:30,fill:"blue",fontWeight:"bold"}),i=new Ve.fabric.Group([t,S,a],{left:d,top:m,selectable:!1,id:"awv"===l?"realCoverWindowawv":"realCoverWindowcawv"});e.add(i)}else if("vf"===l||"cvf"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Text("vf"===l?"V - F":"CV - F",{top:(b-m)/2,left:(g-d)/2-35,fontSize:30,fill:"blue",fontWeight:"bold"}),i=new Ve.fabric.Group([t,a],{left:d,top:m,selectable:!1,id:"vf"===l?"realCoverWindowvf":"realCoverWindowcvf"});e.add(i)}else if("vsf"===l||"cvsf"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Text("vsf"===l?"V - SF":"CV - SF",{top:(b-m)/2-9,left:(g-d)/2-18,fontSize:30,fill:"blue",fontWeight:"bold"}),i=new Ve.fabric.Group([t,a],{left:d,top:m,selectable:!1,id:"vsf"===l?"realCoverWindowvsf":"realCoverWindowcvsf"});e.add(i)}else if("vss"===l||"ss"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Line([0,(b-m)/2,(g-d)/2-9,(b-m)/2],{stroke:"blue",strokeWidth:1}),i=new Ve.fabric.Line([(g-d)/2,0,(g-d)/2,b-m],{stroke:"blue",strokeWidth:2}),o=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:90,left:(g-d)/2-9,top:(b-m)/2-10,selectable:!1}),r=new Ve.fabric.Text("vss"===l?"V - SS":"SS",{top:(b-m)/2-9,left:(g-d)/2+3,fontSize:30,fill:"blue",fontWeight:"bold"}),n=new Ve.fabric.Group([t,a,i,o,r],{left:d,top:m,selectable:!1,id:"vss"===l?"realCoverWindowvss":"realCoverWindowss"});e.add(n)}else if("vslo"===l||"slo"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Line([0,b-m,(g-d)/2-4.5,0],{stroke:"blue",strokeWidth:1}),i=new Ve.fabric.Line([(g-d)/2,0,(g-d)/2,b-m],{stroke:"blue",strokeWidth:2}),o=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:180*Math.atan(Math.abs((g-d)/2-9)/Math.abs(m-b))/Math.PI,left:(g-d)/2-18/1.4,top:0,selectable:!1}),r=new Ve.fabric.Text("vslo"===l?"V - SLO":"SLO",{top:(b-m)/2-9,left:(g-d)/2+3,fontSize:30,fill:"blue",fontWeight:"bold"}),n=new Ve.fabric.Group([t,a,i,o,r],{left:d,top:m,selectable:!1,id:"vslo"===l?"realCoverWindowvslo":"realCoverWindowslo"});e.add(n)}else if("vsso"===l||"sso"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Line([0,(b-m)/2,(g-d)/3-4.5,(b-m)/2],{stroke:"blue",strokeWidth:1}),i=new Ve.fabric.Line([(g-d)/3,0,(g-d)/3,b-m],{stroke:"blue",strokeWidth:2}),o=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:90,left:(g-d)/3,top:(b-m)/2-10,selectable:!1}),r=new Ve.fabric.Text("vsso"===l?"V - SSO":"SSO",{top:(b-m)/2-9,left:(g-d)/3+3,fontSize:30,fill:"blue",fontWeight:"bold"}),n=new Ve.fabric.Group([t,a,i,o,r],{left:d,top:m,selectable:!1,id:"vsso"===l?"realCoverWindowvsso":"realCoverWindowsso"});e.add(n)}else if("vssr"===l||"ssr"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Line([g-d,(b-m)/2,2*(g-d)/3+9,(b-m)/2],{stroke:"blue",strokeWidth:1}),i=new Ve.fabric.Line([2*(g-d)/3,0,2*(g-d)/3,b-m],{stroke:"blue",strokeWidth:2}),o=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:-90,left:2*(g-d)/3+9,top:(b-m)/2+10,selectable:!1}),r=new Ve.fabric.Text("vssr"===l?"V - SS - R":"SS - R",{top:(b-m)/2-9,left:2*(g-d)/3-125,fontSize:30,fill:"blue",fontWeight:"bold"}),n=new Ve.fabric.Group([t,a,i,o,r],{left:d,top:m,selectable:!1,id:"vssr"===l?"realCoverWindowvssr":"realCoverWindowssr"});e.add(n)}else if("vslos"===l||"slos"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Line([0,b-m,(g-d)/3-4.5,0],{stroke:"blue",strokeWidth:1}),i=new Ve.fabric.Line([(g-d)/3,0,(g-d)/3,b-m],{stroke:"blue",strokeWidth:2}),o=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:180*Math.atan(Math.abs((g-d)/3-9)/Math.abs(m-b))/Math.PI,left:(g-d)/3-15,top:0,selectable:!1}),r=new Ve.fabric.Text("vslos"===l?"V - SLOS":"SLOS",{top:(b-m)/2-9,left:(g-d)/3+3,fontSize:30,fill:"blue",fontWeight:"bold"}),n=new Ve.fabric.Group([t,a,i,o,r],{left:d,top:m,selectable:!1,id:"vslos"===l?"realCoverWindowvslos":"realCoverWindowslos"});e.add(n)}else if("vslosr"===l||"slosr"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Line([g-d,b-m,2*(g-d)/3+9,0],{stroke:"blue",strokeWidth:1}),i=new Ve.fabric.Line([2*(g-d)/3,0,2*(g-d)/3,b-m],{stroke:"blue",strokeWidth:2}),o=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:-180*Math.atan(Math.abs((g-d)/3)/Math.abs(m-b))/Math.PI,left:2*(g-d)/3,top:5,selectable:!1}),r=new Ve.fabric.Text("vslosr"===l?"V - SLOSR":"SLOSR",{top:(b-m)/2-9,left:2*(g-d)/3-145,fontSize:30,fill:"blue",fontWeight:"bold"}),n=new Ve.fabric.Group([t,a,i,o,r],{left:d,top:m,selectable:!1,id:"vslosr"===l?"realCoverWindowvslosr":"realCoverWindowslosr"});e.add(n)}else if("vsh"===l||"sh"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Line([(g-d)/2,b-m,(g-d)/2,(b-m)/2+9],{stroke:"blue",strokeWidth:1}),i=new Ve.fabric.Line([0,(b-m)/2,g-d,(b-m)/2],{stroke:"blue",strokeWidth:2}),o=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:0,left:(g-d)/2-10,top:(b-m)/2+9,selectable:!1}),r=new Ve.fabric.Text("vsh"===l?"V - SH":"SH",{top:(b-m)/2-30,left:(g-d)/2-30,fontSize:30,fill:"blue",fontWeight:"bold"}),n=new Ve.fabric.Group([t,a,i,o,r],{left:d,top:m,selectable:!1,id:"vsh"===l?"realCoverWindowvsh":"realCoverWindowsh"});e.add(n)}else if("vsho"===l||"sho"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Line([(g-d)/2,b-m,(g-d)/2,2*(b-m)/3+9],{stroke:"blue",strokeWidth:1}),i=new Ve.fabric.Line([0,2*(b-m)/3,g-d,2*(b-m)/3],{stroke:"blue",strokeWidth:2}),o=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:0,left:(g-d)/2-10,top:2*(b-m)/3+9,selectable:!1}),r=new Ve.fabric.Text("vsho"===l?"V - SHO":"SHO",{top:2*(b-m)/3-35,left:(g-d)/2-40,fontSize:30,fill:"blue",fontWeight:"bold"}),n=new Ve.fabric.Group([t,a,i,o,r],{left:d,top:m,selectable:!1,id:"vsho"===l?"realCoverWindowvsho":"realCoverWindowsho"});e.add(n)}else if("va"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Line([(g-d)/2,b-m,(g-d)/2,(b-m)/2+9],{stroke:"blue",strokeWidth:1}),l=new Ve.fabric.Line([0,(b-m)/2,g-d,(b-m)/2],{stroke:"blue",strokeWidth:2}),i=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:0,left:(g-d)/2-10,top:(b-m)/2+9,selectable:!1}),o=new Ve.fabric.Line([(g-d)/2,0,(g-d)/2,(b-m)/2-9-40],{stroke:"blue",strokeWidth:1}),r=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:180,left:(g-d)/2+10,top:(b-m)/2-9-40,selectable:!1}),n=new Ve.fabric.Text("V - A",{top:(b-m)/2-35,left:(g-d)/2-35,fontSize:30,fill:"blue",fontWeight:"bold"}),s=new Ve.fabric.Group([t,a,l,i,o,r,n],{left:d,top:m,selectable:!1,id:"realCoverWindowva"});e.add(s)}else if("vao"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Line([(g-d)/2,b-m,(g-d)/2,2*(b-m)/3+9],{stroke:"blue",strokeWidth:1}),l=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:0,left:(g-d)/2-10,top:2*(b-m)/3+9,selectable:!1}),i=new Ve.fabric.Line([(g-d)/2,0,(g-d)/2,2*(b-m)/3-9-40],{stroke:"blue",strokeWidth:1}),o=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:180,left:(g-d)/2+10,top:2*(b-m)/3-9-40,selectable:!1}),r=new Ve.fabric.Line([0,2*(b-m)/3,g-d,2*(b-m)/3],{stroke:"blue",strokeWidth:2}),n=new Ve.fabric.Text("V - AO",{top:2*(b-m)/3-35,left:(g-d)/2-35,fontSize:30,fill:"blue",fontWeight:"bold"}),s=new Ve.fabric.Group([t,a,l,i,r,o,n],{left:d,top:m,selectable:!1,id:"realCoverWindowvao"});e.add(s)}else if("des"===l||"des4"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Line([0,(b-m)/2,(g-d)/3-9,(b-m)/2],{stroke:"blue",strokeWidth:1}),i=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:90,left:(g-d)/3-9,top:(b-m)/2-10,selectable:!1}),o=new Ve.fabric.Line([g-d,(b-m)/2,2*(g-d)/3+9,(b-m)/2],{stroke:"blue",strokeWidth:1}),r=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:-90,left:2*(g-d)/3+9,top:(b-m)/2+10,selectable:!1}),n=new Ve.fabric.Line([(g-d)/3,0,(g-d)/3,b-m],{stroke:"blue",strokeWidth:2}),s=new Ve.fabric.Line([2*(g-d)/3,0,2*(g-d)/3,b-m],{stroke:"blue",strokeWidth:2}),c=new Ve.fabric.Text("des"===l?"DES":"DES4",{top:(b-m)/2-18,left:(g-d)/2-30,fontSize:30,fill:"blue",fontWeight:"bold"}),h=new Ve.fabric.Group([t,a,i,o,r,n,s,c],{left:d,top:m,selectable:!1,id:"des"===l?"realCoverWindowdes":"realCoverWindowdes4"});e.add(h)}else if("deslo"===l||"deslo4"===l){const t=await _e(d,g,m,b),a=new Ve.fabric.Line([0,b-m,(g-d)/3-9,0],{stroke:"blue",strokeWidth:1}),i=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:180*Math.atan(Math.abs((g-d)/3-9)/Math.abs(m-b))/Math.PI,left:(g-d)/3-18,top:2,selectable:!1}),o=new Ve.fabric.Line([g-d,b-m,2*(g-d)/3+9,0],{stroke:"blue",strokeWidth:1}),r=new Ve.fabric.Triangle({width:20,height:30,fill:"",stroke:"blue",angle:-180*Math.atan(Math.abs((g-d)/3)/Math.abs(m-b))/Math.PI,left:2*(g-d)/3,top:4,selectable:!1}),n=new Ve.fabric.Line([(g-d)/3,0,(g-d)/3,b-m],{stroke:"blue",strokeWidth:2}),s=new Ve.fabric.Line([2*(g-d)/3,0,2*(g-d)/3,b-m],{stroke:"blue",strokeWidth:2}),c=new Ve.fabric.Text("deslo"===l?"DESLO":"DESLO4",{top:(b-m)/2-9,left:(g-d)/2-55,fontSize:30,fill:"blue",fontWeight:"bold"}),h=new Ve.fabric.Group([t,a,i,o,r,n,s,c],{left:d,top:m,selectable:!1,id:"deslo"===l?"realCoverWindowdeslo":"realCoverWindowdeslo4"});e.add(h)}e.renderAll(),a(e=>e+1),t(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])])}}};e.on("mouse:move",i),e.on("mouse:down",o),document.addEventListener("mousedown",()=>{e.off("mouse:move",i),e.off("mouse:down",o)})};var mt=a(113),bt=a.n(mt),ut=a(23);const wt=async(e,t,a,l,i,o)=>{if(await(async e=>{if(1!==(await Fe(e,"mainImg")).length)return!1;var t=await Fe(e,"horizontalBar"),a=await Fe(e,"verticalOneBar"),l=await Fe(e,"realCoverWindow");return t.length+a.length+1===l.length})(e)){const n=await e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"]);try{(await ut.a.post(O.a+"/templete/save",{canvas:n,scale:t,createria:a,width:l,height:i,selectedType:o})).data.success?window.alert("Successfully saved!"):window.alert("Something went wrong during this templete save!")}catch(r){console.error("Error sending this templete")}}else window.alert("This state can't save as templete.\n All windows must have a corresponding name.")},xt=Object(M.a)(e=>({root:{},hover:{"&:hover":{cursor:"pointer",border:"2px solid #245281"},"&:active":{border:"2px solid #245281"}},activeIconButton:{color:"blue"},deactiveIconButton:{color:"grey",marginLeft:"5px"},popover1:{maxWidth:"400px",maxHeight:"600px"},customSelect:{"& .MuiOutlinedInput-root":{padding:0,height:"40px",color:"black",backgroundColor:"white","&.Mui-focused fieldset":{borderColor:"rgb(12, 179, 229)"},"& .MuiSelect-root":{paddingTop:"7px",paddingBottom:"7px"}}},radio:{"& .MuiSvgIcon-root":{width:"18px",height:"18px",color:"grey"}},radioGroup:{display:"flex",flexDirection:"row"},selectedRadio:{"& .MuiSvgIcon-root":{width:"18px",height:"18px",color:"#3949ab"}}})),vt=[{label:"Inside",value:"inside"},{label:"Outside",value:"outside"}];var kt=function(e){let{className:t,...a}=e;const l=xt(),r=Object(i.useRef)(null),n=function(){const e=Object(i.useRef)(!0);return Object(i.useEffect)(()=>()=>{e.current=!1},[]),e}(),s=Object(i.useRef)(null),c=Object(i.useRef)(null),h=Object(i.useRef)(null),[f,p]=Object(i.useState)("inside"),[d,g]=Object(i.useState)(!1),[m,b]=Object(i.useState)(!1),[u,w]=Object(i.useState)(-1),[x,v]=Object(i.useState)(0),[k,y]=Object(i.useState)(!1),[E,C]=Object(i.useState)(!1),[S,W]=Object(i.useState)("500"),[T,N]=Object(i.useState)("500"),[L,z]=Object(i.useState)([]),[j,B]=Object(i.useState)([]),[P,A]=Object(i.useState)([]),[R,I]=Object(i.useState)([]),[M,D]=Object(i.useState)(!1),[V,G]=Object(i.useState)(!1),[H,J]=Object(i.useState)(null),[Q,q]=Object(i.useState)([]),[Y,_]=Object(i.useState)([]),[U,X]=Object(i.useState)([]),[Z,K]=Object(i.useState)(0),[$,ee]=Object(i.useState)(!1),[te,ae]=Object(i.useState)("33/4frame"),[le,ie]=Object(i.useState)(""),[re,ne]=Object(i.useState)("zoomOff"),[se,he]=Object(i.useState)(1),[fe,de]=Object(i.useState)([]),[ge,me]=Object(i.useState)([]),[be,ue]=Object(i.useState)(""),[we,xe]=Object(i.useState)("33/4frame"),[ve,ke]=Object(i.useState)([]),[ye,Ee]=Object(i.useState)(!1);Object(i.useEffect)(()=>{if(r.current&&!H){const e=new Ve.fabric.Canvas(r.current);J(e)}},[H]);const Ce=Object(i.useCallback)(async()=>{const e=e=>new Promise(t=>setTimeout(t,e));await ut.a.get(O.a+"/design/rightMenu/getAll").then(async t=>{if(n.current){var a=t.data.canvasMenu;const l=new Ve.fabric.Canvas;for(const t of a)l.clear(),await l.loadFromJSON(t,async()=>{const e=await l.toDataURL({format:"png",quality:1});await X(t=>[...t,e])}),await e(100);A(t.data.scale),I(t.data.createria),_(a),B(t.data.height),z(t.data.width)}})},[n]);Object(i.useEffect)(()=>{Ce()},[Ce]),Object(i.useEffect)(()=>{H&&(X(e=>{const t=[...e];return t.length>0&&(t[u]=H.toDataURL({format:"png",quality:1})),t}),_(e=>{const t=[...e];return t.length>0&&(t[u]=H.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])),t}))},[Z]);const Ge=e=>{v(e),g(!0)},Je=()=>{g(!1)},Ye=()=>{b(!1)},_e=async e=>{w(e),H.clear(),H.off(),await ot(H,P[e],R[e],K,q,ee,re),H.loadFromJSON(Y[e],()=>{const e=H.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"]);q(()=>[e]),K(0),H.renderAll()})},Ze=()=>{Ee(!0),(async(e,t,a)=>{const l=e=>new Promise(t=>setTimeout(t,e));e([]),t([]),await ut.a.get(O.a+"/templete/getAll").then(async i=>{var o=[],r=i.data.canvas,n=i.data.ids;const s=new Ve.fabric.Canvas;for(const e of r)s.clear(),s.loadFromJSON(e,async()=>{const e=s.toDataURL({format:"jpg",quality:1});o.push(e)}),await l(100);e(o),t(n),a(i.data.selectedType)})})(de,me,ke)};return o.a.createElement("div",Object.assign({className:Object(oe.a)(l.root,t)},a),o.a.createElement(F.a,{display:"flex",style:{height:"100px",borderBottom:"solid 1px grey"}},o.a.createElement(F.a,{style:{padding:"2px"},width:"160px"},o.a.createElement(F.a,{onClick:()=>Ze(),display:"flex",justifyContent:"center"},o.a.createElement("img",{alt:"frame1",src:"/static/33frames/4.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"}})),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"1px"},color:"textSecondary",variant:"body2"},"Load from library")),o.a.createElement(F.a,{style:{border:"solid 1px grey",width:0,height:"80%",marginTop:"10px"}}),o.a.createElement(F.a,null,o.a.createElement(F.a,{display:"flex"},o.a.createElement(F.a,{width:"100px"},o.a.createElement(F.a,{display:"flex",justifyContent:"center"},o.a.createElement("img",{alt:"rect",src:"/static/images/verticalBar.png",height:"35px",width:"auto",style:{marginRight:"5px"},className:l.hover,onClick:()=>{((e,t,a,l,i)=>{const o=async t=>{const a=e.getPointer(t.e),l=a.x,i=a.y;var o=!1,r=0,n=0,s=[],c=[],h=await He(e,"cashVerticalOneBar");e.remove(h);var f=await Fe(e,"realCoverWindow"),p=!0;for(const e of f)if(e.left<=l&&e.left+e.width>=l&&e.top<=i&&e.top+e.height>=i){p=!1;break}if(p){for(var d,g=await Fe(e,"mainImg"),m=0;m<g.length;m++)if(l>=g[m].left+9&&l<=g[m].left+g[m].width-9&&i>=g[m].top&&i<=g[m].top+g[m].height){o=!0,r=g[m].top,n=g[m].height,d=g[m];break}if(o){for(var b=await qe(e,d),u=await Qe(e,d),w=0;w<u.length;w++)u[w].left+9<l&&u[w].left+u[w].width-9>l&&s.push(u[w]);for(var x=0;x<b.length;x++)b[x].left-9<l&&b[x].left+b[x].width+9>l&&b[x].top<=i&&b[x].top+b[x].height>=i&&c.push(b[x]);if(0===c.length)if(0===s.length){var v=new Ve.fabric.Rect({id:"cashVerticalOneBar",left:l-9,top:r,width:18,height:n,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5});e.add(v)}else if(i<s[0].top)v=new Ve.fabric.Rect({id:"cashVerticalOneBar",top:r,left:l-9,height:s[0].top-r,width:18,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5}),e.add(v);else if(i>s[s.length-1].top+18)v=new Ve.fabric.Rect({id:"cashVerticalOneBar",top:s[s.length-1].top+18,left:l-9,height:r+n-(s[s.length-1].top+18),width:18,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5}),e.add(v);else for(var k=0;k<s.length-1;k++)i>s[k].top+18&&i<s[k+1].top&&(v=new Ve.fabric.Rect({id:"cashVerticalOneBar",top:s[k].top+18,left:l-9,height:s[k+1].top-(s[k].top+18),width:18,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5}),e.add(v))}}},r=async o=>{if(o.target&&"cashVerticalOneBar"===o.target.id){e.remove(o.target);const r=new Ve.fabric.Rect({id:"verticalOneBar",top:o.target.top,left:o.target.left,height:o.target.height,width:o.target.width,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});e.add(r),await st(e,t,a),e.renderAll(),i(e=>e+1),l(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])])}};e.on("mouse:move",o),e.on("mouse:down",r),document.addEventListener("mousedown",()=>{e.off("mouse:move",o),e.off("mouse:down",r)})})(H,P[u],R[u],q,K)}}),o.a.createElement("img",{alt:"rect",src:"/static/images/horizontalBar.png",height:"35px",width:"auto",className:l.hover,onClick:()=>{((e,t,a,l,i)=>{const o=async t=>{const a=e.getPointer(t.e),l=a.x,i=a.y;var o=!1,r=0,n=0,s=[],c=[],h=await He(e,"cashHorizontalBar");e.remove(h);var f=await Fe(e,"realCoverWindow"),p=!0;for(const e of f)if(e.left<=l&&e.left+e.width>=l&&e.top<=i&&e.top+e.height>=i){p=!1;break}if(p){for(var d,g=await Fe(e,"mainImg"),m=0;m<g.length;m++)if(l>=g[m].left&&l<=g[m].left+g[m].width&&i>=g[m].top+9&&i<=g[m].top+g[m].height-9){o=!0,r=g[m].left,n=g[m].width,d=g[m];break}if(o){for(var b=await qe(e,d),u=await Qe(e,d),w=0;w<b.length;w++)b[w].top+9<i&&b[w].top+b[w].height-9>i&&s.push(b[w]);for(var x=0;x<u.length;x++){u[x].left<=l&&u[x].left+u[x].width>=l&&u[x].top-9<i&&u[x].top+u[x].height+9>i&&c.push(u[x]);break}if(0===c.length)if(0===s.length){var v=new Ve.fabric.Rect({id:"cashHorizontalBar",left:r,top:i-9,width:n,height:18,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5});e.add(v)}else if(l<s[0].left)v=new Ve.fabric.Rect({id:"cashHorizontalBar",left:r,top:i-9,width:s[0].left-r,height:18,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5}),e.add(v);else if(l>s[s.length-1].left+18)v=new Ve.fabric.Rect({id:"cashHorizontalBar",left:s[s.length-1].left+18,top:i-9,width:r+n-(s[s.length-1].left+18),height:18,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5}),e.add(v);else for(var k=0;k<s.length-1;k++)l>s[k].left+18&&l<s[k+1].left&&(v=new Ve.fabric.Rect({id:"cashHorizontalBar",left:s[k].left+18,top:i-9,width:s[k+1].left-(s[k].left+18),height:18,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5}),e.add(v))}}},r=async o=>{if(o.target&&"cashHorizontalBar"===o.target.id){e.remove(o.target);var r=new Ve.fabric.Rect({id:"horizontalBar",left:o.target.left,top:o.target.top,width:o.target.width,height:o.target.height,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});e.add(r),await st(e,t,a),e.renderAll(),i(e=>e+1),l(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])])}};e.on("mouse:move",o),e.on("mouse:down",r),document.addEventListener("mousedown",()=>{e.off("mouse:move",o),e.off("mouse:down",r)})})(H,P[u],R[u],q,K)}})),o.a.createElement(F.a,{display:"flex",justifyContent:"center",style:{marginLeft:"-5px"}},o.a.createElement(F.a,null,o.a.createElement("img",{alt:"rect",src:"/static/images/verticalTwoBars.png",height:"35px",width:"auto",className:l.hover,onClick:()=>{ht(H,P[u],R[u],q,K,2)}}),o.a.createElement(Se.a,{style:{margin:0,padding:0,fontWeight:"bold",marginTop:"-35px"},ref:c,onClick:()=>y(!0)},o.a.createElement(Ae.a,{width:"17px",height:"17px"})),o.a.createElement(We.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},classes:{paper:l.popover},anchorEl:c.current,onClose:()=>y(!1),open:k},o.a.createElement(pe.a,{onClick:()=>{y(!1),ht(H,P[u],R[u],q,K,3)}},"3"),o.a.createElement(pe.a,{onClick:()=>{y(!1),ht(H,P[u],R[u],q,K,4)}},"4"),o.a.createElement(pe.a,{onClick:()=>{y(!1),ht(H,P[u],R[u],q,K,5)}},"5"),o.a.createElement(pe.a,{onClick:()=>{y(!1),ht(H,P[u],R[u],q,K,6)}},"6"))),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"rect",src:"/static/images/horizontalTwoBars.png",width:"25px",height:"35px",className:l.hover,onClick:()=>{ct(H,P[u],R[u],q,K,2)}}),o.a.createElement(Se.a,{style:{margin:0,padding:0,fontWeight:"bold",marginTop:"-35px"},ref:h,onClick:()=>C(!0)},o.a.createElement(Ae.a,{width:"17px",height:"17px"})),o.a.createElement(We.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},classes:{paper:l.popover},anchorEl:h.current,onClose:()=>C(!1),open:E},o.a.createElement(pe.a,{onClick:()=>{C(!1),ct(H,P[u],R[u],q,K,3)}},"3"),o.a.createElement(pe.a,{onClick:()=>{C(!1),ct(H,P[u],R[u],q,K,4)}},"4"),o.a.createElement(pe.a,{onClick:()=>{C(!1),ct(H,P[u],R[u],q,K,5)}},"5"),o.a.createElement(pe.a,{onClick:()=>{C(!1),ct(H,P[u],R[u],q,K,6)}},"6"))))),o.a.createElement(F.a,{style:{border:"solid 1px grey",width:0,height:"60px",marginTop:"10px"}}),o.a.createElement(F.a,{display:"flex",justifyContent:"center",flexDirection:"column",style:{marginLeft:"5px"}},o.a.createElement("img",{alt:"rect",src:"/static/images/ThroughVerticalBar.png",height:"30px",width:"auto",style:{marginRight:"5px"},className:l.hover,onClick:()=>{((e,t,a,l,i)=>{const o=async t=>{const a=e.getPointer(t.e),l=a.x,i=a.y;var o=!1,r=[],n=await Fe(e,"cashVerticalOneBar");e.remove(...n);for(var s,c=await Fe(e,"mainImg"),h=0;h<c.length;h++)if(l>=c[h].left+9&&l<=c[h].left+c[h].width&&i>=c[h].top&&i<=c[h].top+c[h].height+9){o=!0,s=c[h];break}if(o){for(var f=await Fe(e,"realCoverWindow"),p=await qe(e,s),d=await Qe(e,s),g=0;g<d.length;g++)d[g].left+9<l&&d[g].left+d[g].width-9>l&&r.push(d[g]);var m=[];if(0===r.length)m.push({left:l-9,right:l+9,top:s.top,bottom:s.top+s.height});else{m.push({left:l-9,right:l+9,top:s.top,bottom:r[0].top});for(var b=0;b<r.length-1;b++)m.push({left:l-9,right:l+9,top:r[b].top+18,bottom:r[b+1].top});m.push({left:l-9,right:l+9,top:r[r.length-1].top+18,bottom:s.top+s.height})}for(const t of m){for(var u=!0,w=0;w<p.length;w++)if(p[w].top+p[w].height>t.top&&p[w].top<t.bottom&&p[w].left<t.right&&p[w].left+p[w].width>t.left){u=!1;break}if(u)for(const e of f)if(e.top+e.height>t.top&&e.top<t.bottom&&e.left<t.right&&e.left+e.width>t.left){u=!1;break}if(u){var x=new Ve.fabric.Rect({id:"cashVerticalOneBar",left:t.left,top:t.top,width:18,height:t.bottom-t.top,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5});e.add(x)}}}},r=async o=>{const r=e.getPointer(o.e),n=r.x,s=r.y;var c=!1,h=[],f=await Fe(e,"cashVerticalOneBar");e.remove(...f);for(var p,d=await Fe(e,"mainImg"),g=0;g<d.length;g++)if(n>=d[g].left+9&&n<=d[g].left+d[g].width&&s>=d[g].top&&s<=d[g].top+d[g].height+9){c=!0,p=d[g];break}if(c){for(var m=await Fe(e,"realCoverWindow"),b=await qe(e,p),u=await Qe(e,p),w=0;w<u.length;w++)u[w].left+9<n&&u[w].left+u[w].width-9>n&&h.push(u[w]);var x=[];if(0===h.length)x.push({left:n-9,right:n+9,top:p.top,bottom:p.top+p.height});else{x.push({left:n-9,right:n+9,top:p.top,bottom:h[0].top});for(var v=0;v<h.length-1;v++)x.push({left:n-9,right:n+9,top:h[v].top+18,bottom:h[v+1].top});x.push({left:n-9,right:n+9,top:h[h.length-1].top+18,bottom:p.top+p.height})}for(const t of x){for(var k=!0,y=0;y<b.length;y++)if(b[y].top+b[y].height>t.top&&b[y].top<t.bottom&&b[y].left<t.right&&b[y].left+b[y].width>t.left){k=!1;break}if(k)for(const e of m)if(e.top+e.height>t.top&&e.top<t.bottom&&e.left<t.right&&e.left+e.width>t.left){k=!1;break}if(k){var E=new Ve.fabric.Rect({id:"verticalOneBar",left:t.left,top:t.top,width:18,height:t.bottom-t.top,fill:"white",stroke:"black",strokeWidth:1,selectable:!0,hasControls:!1});e.add(E)}}await st(e,t,a),e.renderAll(),i(e=>e+1),l(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])])}};e.on("mouse:move",o),e.on("mouse:down",r),document.addEventListener("mousedown",()=>{e.off("mouse:move",o),e.off("mouse:down",r)})})(H,P[u],R[u],q,K)}}),o.a.createElement("img",{alt:"rect",src:"/static/images/ThroughHorizontalBar.png",width:"30px",height:"auto",className:l.hover,onClick:()=>{((e,t,a,l,i)=>{const o=async t=>{const a=e.getPointer(t.e),l=a.x,i=a.y;var o=!1,r=[],n=await Fe(e,"cashHorizontalBar");e.remove(...n);for(var s,c=await Fe(e,"mainImg"),h=0;h<c.length;h++)if(l>=c[h].left&&l<=c[h].left+c[h].width&&i>=c[h].top+9&&i<=c[h].top+c[h].height-9){o=!0,s=c[h];break}if(o){for(var f=await Fe(e,"realCoverWindow"),p=await qe(e,s),d=await Qe(e,s),g=0;g<p.length;g++)p[g].top+9<i&&p[g].top+p[g].height-9>i&&r.push(p[g]);var m=[];if(0===r.length)m.push({top:i-9,bottom:i+9,left:s.left,right:s.left+s.width});else{m.push({top:i-9,bottom:i+9,left:s.left,right:r[0].left});for(var b=0;b<r.length-1;b++)m.push({top:i-9,bottom:i+9,left:r[b].left+18,right:r[b+1].left});m.push({top:i-9,bottom:i+9,left:r[r.length-1].left+18,right:s.left+s.width})}for(const t of m){for(var u=!0,w=0;w<d.length;w++)if(d[w].left+d[w].width>t.left&&d[w].left<t.right&&d[w].top<t.bottom&&d[w].top+d[w].height>t.top){u=!1;break}if(u)for(const e of f)if(e.left+e.width>t.left&&e.left<t.right&&e.top<t.bottom&&e.top+e.height>t.top){u=!1;break}if(u){var x=new Ve.fabric.Rect({id:"cashHorizontalBar",left:t.left,top:t.top,width:t.right-t.left,height:18,fill:"grey",stroke:"black",strokeWidth:1,opacity:.5});e.add(x)}}}},r=async o=>{const r=e.getPointer(o.e),n=r.x,s=r.y;var c=!1,h=[],f=await Fe(e,"cashHorizontalBar");e.remove(...f);for(var p,d=await Fe(e,"mainImg"),g=0;g<d.length;g++)if(n>=d[g].left&&n<=d[g].left+d[g].width&&s>=d[g].top+9&&s<=d[g].top+d[g].height-9){c=!0,p=d[g];break}if(c){for(var m=await Fe(e,"realCoverWindow"),b=await qe(e,p),u=await Qe(e,p),w=0;w<b.length;w++)b[w].top+9<s&&b[w].top+b[w].height-9>s&&h.push(b[w]);var x=[];if(0===h.length)x.push({top:s-9,bottom:s+9,left:p.left,right:p.left+p.width});else{x.push({top:s-9,bottom:s+9,left:p.left,right:h[0].left});for(var v=0;v<h.length-1;v++)x.push({top:s-9,bottom:s+9,left:h[v].left+18,right:h[v+1].left});x.push({top:s-9,bottom:s+9,left:h[h.length-1].left+18,right:p.left+p.width})}for(const t of x){for(var k=!0,y=0;y<u.length;y++)if(u[y].left+u[y].width>t.left&&u[y].left<t.right&&u[y].top<t.bottom&&u[y].top+u[y].height>t.top){k=!1;break}if(k)for(const e of m)if(e.left+e.width>t.left&&e.left<t.right&&e.top<t.bottom&&e.top+e.height>t.top){k=!1;break}if(k){var E=new Ve.fabric.Rect({id:"horizontalBar",left:t.left,top:t.top,width:t.right-t.left,height:18,fill:"white",stroke:"black",strokeWidth:1,hasControls:!1,selectable:!0});e.add(E)}}await st(e,t,a),e.renderAll(),i(e=>e+1),l(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])])}};e.on("mouse:move",o),e.on("mouse:down",r),document.addEventListener("mousedown",()=>{e.off("mouse:move",o),e.off("mouse:down",r)})})(H,P[u],R[u],q,K)}}))),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"1px"},color:"textSecondary",variant:"body2"},"Mullion")),o.a.createElement(F.a,{style:{border:"solid 1px grey",width:0,height:"80%",marginTop:"10px"}}),o.a.createElement(F.a,null,o.a.createElement(F.a,{display:"flex"},o.a.createElement(F.a,{display:"flex",justifyContent:"center",flexDirection:"column",style:{marginLeft:"15px",marginTop:"5px"}},o.a.createElement("img",{alt:"rect",src:"/static/images/EditWindowVertical.png",width:"30px",height:"auto",style:{marginRight:"5px"},className:l.hover,onClick:()=>{dt(H,u,P[u],R[u],I,"T",q,K,ee,re)}}),o.a.createElement("img",{alt:"rect",src:"/static/images/EditWindowHorizontal.png",width:"30px",height:"auto",className:l.hover,onClick:()=>{pt(H,u,P[u],R[u],I,"L",q,K,ee,re)}})),o.a.createElement(F.a,{display:"flex",justifyContent:"center",flexDirection:"column",style:{marginTop:"5px"}},o.a.createElement("img",{alt:"rect",src:"/static/images/EditWindowVertical.png",width:"30px",height:"auto",style:{marginRight:"5px",transform:"scaleX(-1) rotate(180deg)"},className:l.hover,onClick:()=>{dt(H,u,P[u],R[u],I,"B",q,K,ee,re)}}),o.a.createElement("img",{alt:"rect",src:"/static/images/EditWindowHorizontal.png",width:"30px",height:"auto",style:{transform:"scaleX(-1)"},className:l.hover,onClick:()=>{pt(H,u,P[u],R[u],I,"R",q,K,ee,re)}}))),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"5px",marginLeft:"5px",marginRight:"5px"},color:"textSecondary",variant:"body2"},"Coupling")),o.a.createElement(F.a,{style:{border:"solid 1px grey",width:0,height:"80%",marginTop:"10px"}}),"33/4frame"===te&&o.a.createElement(F.a,{display:"flex"},o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/1.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"csl")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"CS - L")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/2.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"csr")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"CS - R")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/3.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"awv")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"AW - V")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/4.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"vf")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"V - F")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/5.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"vsf")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"V - SF")),o.a.createElement(F.a,{style:{border:"solid 1px grey",width:0,height:"90%",marginTop:"5px",marginLeft:"5px",marginRight:"5px"}}),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/6.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"vss")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"V - SS")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/7.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"vslo")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"V - SLO")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/8.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"vsso")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"V - SSO")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/9.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"vssr")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"V - SS -R")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/10.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"vslos")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"V - SLOS")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/11.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"vslosr")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"V - SLOSR")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/12.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"vsh")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"V - SH")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/13.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"vsho")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"V - SHO")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/14.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"va")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"V - A")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/15.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"vao")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"V - AO")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/16.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"des")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"DES")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/17.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"deslo")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"DESLO"))),"49/16frame"===te&&o.a.createElement(F.a,{display:"flex"},o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/1.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"ccsl")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"CCS - L")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/2.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"ccsr")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"CCS - R")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/3.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"cawv")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"CAW - V")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/4.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"cvf")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"CV - F")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/5.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"cvsf")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"CV - SF")),o.a.createElement(F.a,{style:{border:"solid 1px grey",width:0,height:"90%",marginTop:"5px",marginLeft:"5px",marginRight:"5px"}}),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/6.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"ss")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"SS")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/7.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"slo")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"SLO")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/8.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"sso")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"SSO")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/9.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"ssr")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"SS -R")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/10.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"slos")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"SLOS")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/11.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"slosr")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"SLOSR")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/12.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"sh")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"SH")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/13.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"sho")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"SHO")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/16.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"des4")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"DES4")),o.a.createElement(F.a,null,o.a.createElement("img",{alt:"frame1",src:"/static/33frames/17.jpg",width:"50px",height:"70px",className:l.hover,style:{margin:"5px",marginBottom:"0px"},onClick:()=>gt(H,q,K,"deslo4")}),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"0px",marginLeft:"5px",marginRight:"5px"},variant:"body2"},"DESLO4"))),o.a.createElement(F.a,{style:{border:"solid 1px grey",width:0,height:"80%",marginTop:"10px",marginLeft:"10px"}}),o.a.createElement(F.a,{style:{padding:"2px"},width:"260px"},o.a.createElement(F.a,{display:"flex",justifyContent:"center"},o.a.createElement(pe.a,{className:l.hover},"Shape Window"),o.a.createElement(pe.a,{className:l.hover},"Bay/Bow Window"),o.a.createElement(pe.a,{className:l.hover},"Patio door")),o.a.createElement(ce.a,{style:{textAlign:"center",marginTop:"1px"},color:"textSecondary",variant:"body2"},"New Item")),o.a.createElement(F.a,{style:{border:"solid 1px grey",width:0,height:"80%",marginTop:"10px"}})),o.a.createElement(F.a,{pl:3,display:"flex",style:{border:"solid 1px black"}},$?o.a.createElement(Se.a,{size:"small",className:l.activeIconButton,onClick:async()=>{await(async(e,t,a,l,i,o,r)=>{if(e&&l){const l=await e.getActiveObjects();var n=!0;if(/verticalOneBar/.test(l[0].id)){for(var s=await Fe(e,"horizontalBar"),c=0;c<s.length;c++){if(s[c].left+s[c].width<l[0].left+3&&s[c].left+s[c].width>l[0].left-3&&s[c].top>=l[0].top&&s[c].top+s[c].height<=l[0].top+l[0].height){n=!1;break}if(s[c].left<l[0].left+l[0].width+3&&s[c].left>l[0].left+l[0].width-3&&s[c].top>=l[0].top&&s[c].top+s[c].height<=l[0].top+l[0].height){n=!1;break}}if(n){const t={left:l[0].left,top:l[0].top,bottom:l[0].top+l[0].height};if(await Xe(e,t,"verticalOneBarBefore"))n=!1;else{await Xe(e,t,"verticalOneBarAfter")&&(n=!1)}}}if(/horizontalBar/.test(l[0].id)){var h=await Fe(e,"verticalOneBar");for(c=0;c<h.length;c++){if(h[c].top+h[c].height<l[0].top+3&&h[c].top+h[c].height>l[0].top-3&&h[c].left>=l[0].left&&h[c].left+h[c].width<=l[0].left+l[0].width){n=!1;break}if(h[c].top<l[0].top+l[0].height+3&&h[c].top>l[0].top+l[0].height-3&&h[c].left>=l[0].left&&h[c].left+h[c].width<=l[0].left+l[0].width){n=!1;break}}if(n){const t={left:l[0].left,top:l[0].top,right:l[0].left+l[0].width};if(await Xe(e,t,"horizontalBarBefore"))n=!1;else{await Xe(e,t,"horizontalBarAfter")&&(n=!1)}}}n?(await e.remove(l[0]),await e.discardActiveObject(),await st(e,t,a),await e.renderAll(),i(!1),r(e=>e+1),o(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])])):(window.alert("You can't delete this bar."),await e.renderAll(),i(!1))}})(H,P[u],R[u],$,ee,q,K)}},o.a.createElement(Re.a,null)):o.a.createElement(Se.a,{size:"small",className:l.deactiveIconButton},o.a.createElement(Re.a,null)),Z<=0?o.a.createElement(Se.a,{size:"small",className:l.deactiveIconButton},o.a.createElement(Ie.a,null)):o.a.createElement(Se.a,{size:"small",className:l.activeIconButton,onClick:()=>{const e=Q[Z-1];H.clear(),H.loadFromJSON(e,()=>{K(Z-1),H.renderAll()})}},o.a.createElement(Ie.a,null)),Z>=Q.length-1?o.a.createElement(Se.a,{size:"small",className:l.deactiveIconButton},o.a.createElement(Me.a,null)):o.a.createElement(Se.a,{size:"small",className:l.activeIconButton,onClick:()=>{const e=Q[Z+1];H.clear(),H.loadFromJSON(e,()=>{K(Z+1),H.renderAll()})}},o.a.createElement(Me.a,null)),o.a.createElement(F.a,{style:{border:"solid 1px black",width:0,height:"25px",marginTop:"3px",marginLeft:"10px",marginRight:"10px"}}),o.a.createElement("img",{alt:"verticalCenter",src:"/static/images/vertical_center.png",height:"32px",width:"auto",className:l.hover,onClick:()=>{(async(e,t,a,l,i,o,r)=>{if(e&&o){var n=(await e.getActiveObjects())[0];if(/verticalOneBar/.test(n.id)){var s,c=n.left,h=n.top,f=await Fe(e,"mainImg");for(var p of f)if(p.left<=c&&p.left+p.width>=c+18&&p.top<=h&&p.top+p.height+3>=h+n.height){s=p;break}for(var d=await Qe(e,s),g=await qe(e,s),m=[],b=s.left,u=s.left+s.width,w=!0,x=0;x<g.length;x++)g[x].top+g[x].height>=n.top&&g[x].top<=n.top+n.height&&(g[x].top===n.top&&g[x].left===n.left||m.push(g[x]));for(x=m.length-1;x>=0;x--)if(m[x].left<=c){m[x].top>h||m[x].top+m[x].height<h+n.height?w=!1:b=m[x].left+m[x].width;break}for(x=0;x<m.length;x++)if(m[x].left>=c){m[x].top>h||m[x].top+m[x].height<h+n.height?w=!1:u=m[x].left;break}if(w&&n.left>b&&n.left+n.width<u){await n.set({left:b+(u-b)/2-9}).setCoords();const o=n.left-c;if(d)for(const e of d)e.left===c+18&&e.top>=n.top&&e.top+e.height<=n.top+n.height&&await e.set({left:e.left+o,width:e.width-o}).setCoords(),e.left+e.width<c+3&&e.left+e.width>c-3&&e.top>=n.top&&e.top+e.height<=n.top+n.height&&await e.set({width:e.width+o}).setCoords();const s={left:c,top:h,bottom:h+n.height},f=await Xe(e,s,"verticalOneBarBefore");if(f)for(const t of f)await Ue(e,t.left,n.left,t.top,t.top+t.height,t.id.replace("realCoverWindow","")),e.remove(t);const p=await Xe(e,s,"verticalOneBarAfter");if(p)for(const t of p)await Ue(e,n.left+18,t.left+t.width,t.top,t.top+t.height,t.id.replace("realCoverWindow","")),e.remove(t);r(!1),await st(e,t,a),await e.renderAll(),l(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])]),i(e=>e+1)}else window.alert("You can't move this bar."),r(!1)}}})(H,P[u],R[u],q,K,$,ee)}}),o.a.createElement("img",{alt:"verticalCenter",src:"/static/images/horizontal_center.png",style:{marginTop:"2px"},height:"28px",width:"32px",className:l.hover,onClick:()=>{(async(e,t,a,l,i,o,r)=>{if(e&&o){var n=e.getActiveObjects()[0];if(/horizontalBar/.test(n.id)){var s,c=n.left,h=n.top,f=await Fe(e,"mainImg");for(var p of f)if(p.left-3<=c&&p.left+p.width+18>=c+n.width&&p.top-3<=h&&p.top+p.height>=h+18){s=p;break}for(var d=await Qe(e,s),g=await qe(e,s),m=[],b=s.top,u=s.top+s.height,w=!0,x=0;x<d.length;x++)d[x].left+d[x].width>=n.left&&d[x].left<=n.left+n.width&&(d[x].left===n.left&&d[x].top===n.top||m.push(d[x]));for(x=m.length-1;x>=0;x--)if(m[x].top<=h){m[x].left>c||m[x].left+m[x].width<c+n.width?w=!1:b=m[x].top+m[x].height;break}for(x=0;x<m.length;x++)if(m[x].top>=h){m[x].left>c||m[x].left+m[x].width<c+n.width?w=!1:u=m[x].top;break}if(w&&n.top>b&&n.top+n.height<u){await n.set({top:b+(u-b)/2-9}).setCoords();const o=n.top-h;if(g)for(const e of g)e.top===h+18&&e.left>=n.left&&e.left+e.width<=n.left+n.width&&await e.set({top:e.top+o,height:e.height-o}).setCoords(),e.top+e.height<h+3&&e.top+e.height>h-3&&e.left>=n.left&&e.left+e.width<=n.left+n.width&&await e.set({height:e.height+o}).setCoords();const s={left:c,top:h,right:c+n.width},f=await Xe(e,s,"horizontalBarBefore");if(f)for(const t of f)await Ue(e,t.left,t.left+t.width,t.top,n.top,t.id.replace("realCoverWindow","")),e.remove(t);const p=await Xe(e,s,"horizontalBarAfter");if(p)for(const t of p)await Ue(e,t.left,t.left+t.width,n.top+18,t.top+t.height,t.id.replace("realCoverWindow","")),e.remove(t);r(!1),await st(e,t,a),await e.renderAll(),l(t=>[...t,e.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"])]),i(e=>e+1)}else window.alert("You can't move this bar."),r(!1)}}})(H,P[u],R[u],q,K,$,ee)}}),o.a.createElement(F.a,{style:{border:"solid 1px black",width:0,height:"25px",marginTop:"3px",marginLeft:"10px",marginRight:"10px"}}),o.a.createElement(F.a,{sx:{width:"170px",marginTop:"5px"}},o.a.createElement(Te.a,{value:se,min:.1,max:3,step:.1,onChange:(e,t)=>{if(0===H.getObjects().length)return;he(t);const a=new Ve.fabric.Point(H.getWidth()/2,H.getHeight()/2);H.zoomToPoint(a,t),H.renderAll()},valueLabelDisplay:"auto","aria-labelledby":"zoom-slider",disabled:"zoomOff"===re})),o.a.createElement(Oe.a,{"aria-label":"Options",name:"zoomSetting",value:re,onChange:e=>(async e=>{if("zoomOff"===e.target.value){he(1);const e=new Ve.fabric.Point(H.getWidth()/2,H.getHeight()/2);H.zoomToPoint(e,1),H.renderAll()}ne(e.target.value),H.off(),await ot(H,P[u],R[u],K,q,ee,e.target.value)})(e),className:l.radioGroup},o.a.createElement(Ne.a,{value:"zoomOn",control:o.a.createElement(Le.a,{className:"zoomOn"===re?l.selectedRadio:l.radio}),label:"On",style:{marginLeft:"5px",marginRight:"0px"},classes:{label:l.label}}),o.a.createElement(Ne.a,{value:"zoomOff",control:o.a.createElement(Le.a,{className:"zoomOff"===re?l.selectedRadio:l.radio}),label:"Off",style:{marginLeft:"1px"},classes:{label:l.label}})),o.a.createElement(F.a,{style:{border:"solid 1px black",width:0,height:"25px",marginTop:"3px",marginLeft:"10px",marginRight:"10px"}}),o.a.createElement(Oe.a,{"aria-label":"Options",name:"type",value:te,onChange:e=>(e=>{ae(e.target.value)})(e),className:l.radioGroup},o.a.createElement(Ne.a,{value:"33/4frame",control:o.a.createElement(Le.a,{className:"33/4frame"===te?l.selectedRadio:l.radio}),label:"3 \xa0 3/4 Frame",classes:{label:l.label}}),o.a.createElement(Ne.a,{value:"49/16frame",control:o.a.createElement(Le.a,{className:"49/16frame"===te?l.selectedRadio:l.radio}),label:"4  \xa0 9/16 Frame",style:{marginLeft:"1px"},classes:{label:l.label}})),o.a.createElement(pe.a,{style:{border:"solid 2px #00dcff",padding:"2px",margin:"2px",marginLeft:"15px"},onClick:()=>wt(H,P[u],R[u],L[u],j[u],te)},"Save to library")),o.a.createElement(F.a,{display:"flex",justifyContent:"right"},o.a.createElement(F.a,{style:{margin:"10px",paddingRight:"25px",overflowY:"auto",overflowX:"hidden",maxHeight:window.innerHeight-250}},U.map((e,t)=>o.a.createElement(F.a,{key:t,display:"flex",justifyContent:"space-between",style:{marginLeft:"5px",marginTop:"20px",border:t!==u?"solid 1px black":"solid 2px blue"},onClick:()=>{_e(t)}},o.a.createElement(F.a,null,o.a.createElement(ce.a,{style:{width:"80px",marginTop:"25px"}},t+1),o.a.createElement(ce.a,{style:{width:"80px"}},L[t]," * ",j[t]),o.a.createElement(ce.a,{style:{width:"80px"}},"qty 1")),o.a.createElement("img",{src:e,alt:"Canvas",width:"200px",height:"120px"}),o.a.createElement(F.a,{width:"45px",style:{marginRight:"15px",marginTop:"30px"}},o.a.createElement(Se.a,{ref:s,onClick:()=>{b(!0)}},o.a.createElement(De.a,null)))))),o.a.createElement(F.a,null,o.a.createElement("canvas",{ref:r,width:window.innerWidth-500,height:window.innerHeight-250,style:{border:"solid 1px black",marginLeft:"10px"}})),bt()().format("YYYY-MM-DD")<O.d&&o.a.createElement(F.a,{style:{marginRight:"25px",marginLeft:"25px"}},o.a.createElement(F.a,{style:{marginTop:"5px"}},o.a.createElement("img",{alt:"verticalCenter",src:"/static/leftSideImages/1.png",width:"60px",height:"auto",className:l.hover,onClick:()=>Ge(0)})),o.a.createElement(F.a,{style:{marginTop:"5px"}},o.a.createElement("img",{alt:"verticalCenter",src:"/static/leftSideImages/2.png",width:"60px",height:"auto",className:l.hover,onClick:()=>Ge(1)})),o.a.createElement(F.a,{style:{marginTop:"5px"}},o.a.createElement("img",{alt:"verticalCenter",src:"/static/leftSideImages/3.png",width:"60px",height:"auto",className:l.hover,onClick:()=>Ge(2)})),o.a.createElement(F.a,{style:{marginTop:"5px"}},o.a.createElement("img",{alt:"verticalCenter",src:"/static/leftSideImages/4.png",width:"60px",height:"auto",className:l.hover,onClick:()=>Ge(3)})),o.a.createElement(F.a,{style:{marginTop:"5px"}},o.a.createElement("img",{alt:"verticalCenter",src:"/static/leftSideImages/5.png",width:"60px",height:"auto",className:l.hover,onClick:()=>Ge(4)})),o.a.createElement(F.a,{style:{marginTop:"5px"}},o.a.createElement("img",{alt:"verticalCenter",src:"/static/leftSideImages/6.png",width:"60px",height:"auto",className:l.hover,onClick:()=>Ge(5)})))),o.a.createElement(ze.a,{open:d,onClose:Je,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"50%",marginLeft:"25%"}},o.a.createElement(F.a,{style:{backgroundColor:"white",padding:"20px",borderRadius:2}},o.a.createElement(F.a,{display:"flex",justifyContent:"space-between"},o.a.createElement(je.a,{fullWidth:!0,label:"WIDTH",margin:"normal",name:"width",onChange:e=>(e=>{e.persist(),W(e.target.value)})(e),style:{marginRight:"10px"},type:"number",value:S,variant:"outlined",error:M,helperText:M?"The size of width must be at least 10 and maximum 500.":""}),o.a.createElement(je.a,{fullWidth:!0,label:"HEIGHT",margin:"normal",name:"height",onChange:e=>(e=>{e.persist(),N(e.target.value)})(e),style:{marginRight:"10px"},type:"number",value:T,variant:"outlined",error:V,helperText:V?"The size of height must be at least 10 and maximum 500.":""}),o.a.createElement(je.a,{fullWidth:!0,label:"QTY",margin:"normal",name:"qty",type:"number",value:"",variant:"outlined"})),o.a.createElement(Be.a,{container:!0,spacing:3,style:{marginTop:"15px"}},o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Measurement taken from")),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(je.a,{select:!0,fullWidth:!0,value:f,onChange:e=>p(e.target.value),variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}},vt.map(e=>o.a.createElement(Pe.a,{key:e.value,value:e.value},e.label)))),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Frame Comment")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{fullWidth:!0,value:le,onChange:e=>ie(e.target.value),variant:"outlined",className:l.customSelect})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Frame Type")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Flex Color")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Exterior color")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Interior color")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Brick mould")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Brick mould color")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Jamb extension")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Casing")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Rosset")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Glass type")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Glass Thickness")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Grill Material")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Grill pattern")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Glass Comment")),o.a.createElement(Be.a,{item:!0,lg:4,xs:4},o.a.createElement(je.a,{fullWidth:!0,variant:"outlined",className:l.customSelect}))),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"25px"}},o.a.createElement(pe.a,{variant:"outlined",onClick:Je,style:{marginTop:"10px"}},"Cancel"),o.a.createElement(pe.a,{variant:"outlined",onClick:async()=>{if(S<10||S>500||T<10||T>500)T>=10&&T<=500?D(!0):G(!0);else if(G(!1),D(!1),g(!1),0===x){await ut.a.post(O.a+"/design/rightMenu/save",{canvas:Y,createria:R,scale:P,width:L,height:j}),await ft(H,A,I,q,K,ee,Number(S),Number(T),0,re,z,B);const e=await H.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"]);_(t=>[...t,e]),X(e=>[...e,H.toDataURL({format:"png",quality:1})]),w(Y.length),K(0)}else if(1===x){await ut.a.post(O.a+"/design/rightMenu/save",{canvas:Y,createria:R,scale:P,width:L,height:j}),await ft(H,A,I,q,K,ee,Number(S),Number(T),1,re,z,B);const e=await H.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"]);_(t=>[...t,e]),X(e=>[...e,H.toDataURL({format:"png",quality:1})]),w(Y.length),K(0)}else if(2===x){await ut.a.post(O.a+"/design/rightMenu/save",{canvas:Y,createria:R,scale:P,width:L,height:j}),await ft(H,A,I,q,K,ee,Number(S),Number(T),2,re,z,B);const e=await H.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"]);_(t=>[...t,e]),X(e=>[...e,H.toDataURL({format:"png",quality:1})]),w(Y.length),K(0)}else if(3===x){await ut.a.post(O.a+"/design/rightMenu/save",{canvas:Y,createria:R,scale:P,width:L,height:j}),await ft(H,A,I,q,K,ee,Number(S),Number(T),3,re,z,B);const e=await H.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"]);_(t=>[...t,e]),X(e=>[...e,H.toDataURL({format:"png",quality:1})]),w(Y.length),K(0)}else if(4===x){await ut.a.post(O.a+"/design/rightMenu/save",{canvas:Y,createria:R,scale:P,width:L,height:j}),await ft(H,A,I,q,K,ee,Number(S),Number(T),4,re,z,B);const e=await H.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"]);_(t=>[...t,e]),X(e=>[...e,H.toDataURL({format:"png",quality:1})]),w(Y.length),K(0)}else if(5===x){await ut.a.post(O.a+"/design/rightMenu/save",{canvas:Y,createria:R,scale:P,width:L,height:j}),await ft(H,A,I,q,K,ee,Number(S),Number(T),5,re,z,B);const e=await H.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"]);_(t=>[...t,e]),X(e=>[...e,H.toDataURL({format:"png",quality:1})]),w(Y.length),K(0)}},style:{marginTop:"10px"}},"Ok")))),o.a.createElement(We.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},classes:{paper:l.popover1},anchorEl:s.current,onClose:()=>{b(!1)},open:m},o.a.createElement(F.a,{style:{backgroundColor:"white",padding:"20px",borderRadius:2}},o.a.createElement(je.a,{fullWidth:!0,label:"WIDTH",margin:"normal",name:"width",style:{marginRight:"10px"},type:"number",value:S,variant:"outlined"}),o.a.createElement(je.a,{fullWidth:!0,label:"HEIGHT",margin:"normal",name:"height",style:{marginRight:"10px"},type:"number",value:T,variant:"outlined"}),o.a.createElement(je.a,{fullWidth:!0,label:"QTY",margin:"normal",name:"qty",type:"number",value:"",variant:"outlined"}),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Measurement taken from"),o.a.createElement(je.a,{select:!0,fullWidth:!0,value:f,onChange:e=>p(e.target.value),variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}},vt.map(e=>o.a.createElement(Pe.a,{key:e.value,value:e.value},e.label)))),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Frame Comment"),o.a.createElement(je.a,{fullWidth:!0,value:le,onChange:e=>ie(e.target.value),variant:"outlined",className:l.customSelect})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Frame Type"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Flex Color"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Exterior color"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Interior color"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Brick mould"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Brick mould color"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Jamb extension"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Casing"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Rosset"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Glass type"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Glass Thickness"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Grill Material"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Grill pattern"),o.a.createElement(je.a,{select:!0,fullWidth:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(F.a,{display:"flex"},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Glass Comment"),o.a.createElement(je.a,{fullWidth:!0,variant:"outlined",className:l.customSelect})),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"25px"}},o.a.createElement(pe.a,{variant:"outlined",onClick:()=>{(async e=>{var t,a,l,i,o,r,n=[...Y],s=n[e],c=[...U],h=c[e],f=[...P],p=f[e],d=[...R],g=d[e],m=[...L],b=m[e],u=[...j],w=u[e];e>=Y.length-1?(t=[...n,s],a=[...c,h],l=[...f,p],i=[...d,g],o=[...m,b],r=[...u,w]):(t=[...n.slice(0,e+1),s,...n.slice(e+1)],a=[...c.slice(0,e+1),h,...c.slice(e+1)],l=[...f.slice(0,e+1),p,...f.slice(e+1)],i=[...d.slice(0,e+1),g,...d.slice(e+1)],o=[...m.slice(0,e+1),b,...m.slice(e+1)],r=[...u.slice(0,e+1),w,...u.slice(e+1)]),_(t),X(a),A(l),I(i),z(o),B(r),await ut.a.post(O.a+"/design/rightMenu/save",{canvas:t,scale:l,createria:i,width:o,height:r})})(u),Ye()},style:{marginTop:"10px",backgroundColor:"darkgreen",color:"white"}},"Duplicate"),o.a.createElement(pe.a,{variant:"outlined",onClick:()=>{(async e=>{if(window.confirm("Are you really want to delete this?")){var t=[...Y];t.splice(e,1);var a=[...U];a.splice(e,1);var l=[...P];l.splice(e,1);var i=[...R];i.splice(e,1);var o=[...L];o.splice(e,1);var r=[...j];r.splice(e,1),_(t),X(a),A(l),I(i),z(o),B(r),_e(u-1),await ut.a.post(O.a+"/design/rightMenu/save",{canvas:t,createria:i,scale:l,width:o,height:r})}})(u),Ye()},style:{marginTop:"10px",backgroundColor:"red"}},"Delete")),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"25px"}},o.a.createElement(pe.a,{variant:"outlined",onClick:Ye,style:{marginTop:"10px"}},"Cancel"),o.a.createElement(pe.a,{variant:"outlined",onClick:Ye,style:{marginTop:"10px"}},"Ok")))),o.a.createElement(ze.a,{open:ye,onClose:()=>Ee(!1),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"70%",height:"80%",marginLeft:"15%",marginTop:"7%",overflow:"scroll"}},o.a.createElement(F.a,{style:{backgroundColor:"white",borderRadius:2}},o.a.createElement(Be.a,{container:!0,spacing:1,style:{marginTop:"5px"}},fe.map((e,t)=>o.a.createElement(F.a,{key:t},ve[t]===we&&o.a.createElement(F.a,{onClick:()=>ue(be===t?"":t)},o.a.createElement("img",{src:e,alt:"Canvas",height:"250px",width:"350px",style:{border:be===t?"solid 1px blue":"none"}}))))),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"20px",padding:"5px"}},o.a.createElement(Oe.a,{"aria-label":"Options",name:"type",value:we,onChange:e=>(e=>{xe(e.target.value)})(e),className:l.radioGroup},o.a.createElement(Ne.a,{value:"33/4frame",control:o.a.createElement(Le.a,{className:"33/4frame"===we?l.selectedRadio:l.radio}),label:"3 \xa0 3/4 Frame",classes:{label:l.label}}),o.a.createElement(Ne.a,{value:"49/16frame",control:o.a.createElement(Le.a,{className:"49/16frame"===we?l.selectedRadio:l.radio}),label:"4  \xa0 9/16 Frame",style:{marginLeft:"1px"},classes:{label:l.label}})),o.a.createElement(pe.a,{variant:"outlined",onClick:()=>(async e=>{if(window.confirm("Are you really want to delete this templete?")){Ee(!1);(await ut.a.post(O.a+"/templete/delete/one",{id:ge[e]})).data.success?window.alert("Successfully deleted!"):window.alert("Something went wrong!")}})(be),style:{margin:"5px",border:""===be?"none":"solid 1px blue"}},"Delete Selected"),o.a.createElement(pe.a,{variant:"outlined",onClick:()=>(async e=>{Ee(!1);try{const t=await ut.a.post(O.a+"/templete/get/one",{id:ge[e]});t.data.success?(H.clear(),H.off(),w(Y.length),H.loadFromJSON(t.data.canvas,async()=>{const e=await H.toJSON(["id","width","height","left","top","stroke","strokeWidth","selectable","hasControls","zIndex"]);_(t=>[...t,e]),X(e=>[...e,H.toDataURL({format:"png",quality:1})]),A(e=>[...e,t.data.scale]),z(e=>[...e,t.data.width]),B(e=>[...e,t.data.height]),I(e=>[...e,"D"]),q(()=>[e]),K(0),H.renderAll()}),await ot(H,t.data.scale,"D",K,q,ee,re)):window.alert("There is no that templete.")}catch(t){console.log(t)}})(be),style:{margin:"5px",border:""===be?"none":"solid 1px blue"}},"Load"),o.a.createElement(pe.a,{variant:"outlined",onClick:()=>Ee(!1),style:{margin:"5px"}},"Cancel")))))},yt=a(261),Et=a(262),Ct=a(725),St=a(726);const Wt=Object(M.a)(()=>({root:{margin:"10px",paddingTop:"50px"},rangeField:{width:"35%","& .MuiOutlinedInput-root":{height:"50px"}}}));var Tt=function(e){let{className:t,...a}=e;const l=Wt();return o.a.createElement(Et.a,{initialValues:{quoteNumber:"",date:bt()().format("YYYY-MM-DD"),firstName:"",lastName:"",address:"",city:"",pcZip:"",email:"",homeTel:"",workTel:"",fax:"",cell:"",quoteValid:"",depositType:"",depositDollar:"",discountType:"",discount:"",Salesperson:"",estimateDateRange:"",leadSource:"",statusValue:"",note:""},validationSchema:yt.b().shape({}),onSubmit:async(e,t)=>{let{resetForm:a,setErrors:l,setStatus:i,setSubmitting:o}=t;try{a(),i({success:!0}),o(!1)}catch(r){i({success:!1}),l({submit:r.message}),o(!1)}}},e=>{let{handleBlur:i,handleChange:r,handleSubmit:n,values:s}=e;return o.a.createElement("form",{onSubmit:n},o.a.createElement(Ct.a,Object.assign({className:Object(oe.a)(l.root,t)},a),o.a.createElement(St.a,null,o.a.createElement(F.a,{display:"flex",justifyContent:"center"},o.a.createElement(je.a,{label:"Quote Number",name:"quoteNumber",placeholder:"Quote Number",onBlur:i,onChange:r,autoComplete:"off",type:"Number",value:s.quoteNumber,style:{marginRight:"10%"},className:l.rangeField,variant:"outlined"}),o.a.createElement(je.a,{label:"Date",name:"date",onBlur:i,onChange:r,type:"date",value:s.date,className:l.rangeField,variant:"outlined"})),o.a.createElement(F.a,{style:{marginLeft:"10%",marginRight:"10%",marginTop:"70px",border:"solid 1px black",padding:"70px",paddingTop:"5px"}},o.a.createElement(ce.a,null,"Customer"),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"30px"}},o.a.createElement(je.a,{label:"First Name",name:"firstName",onBlur:i,onChange:r,autoComplete:"off",placeholder:"First Name",type:"text",value:s.firstName,className:l.rangeField,variant:"outlined"}),o.a.createElement(je.a,{label:"Last Name",name:"lastName",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Last Name",type:"text",value:s.lastName,className:l.rangeField,variant:"outlined"})),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"30px"}},o.a.createElement(je.a,{label:"Address",name:"address",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Address",type:"text",value:s.address,className:l.rangeField,variant:"outlined"}),o.a.createElement(je.a,{label:"City",name:"city",onBlur:i,onChange:r,autoComplete:"off",placeholder:"City",type:"text",value:s.city,className:l.rangeField,variant:"outlined"})),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"30px"}},o.a.createElement(je.a,{label:"PC/ZIP",name:"pcZip",onBlur:i,onChange:r,autoComplete:"off",placeholder:"PC/ZIP",type:"number",value:s.pcZip,className:l.rangeField,variant:"outlined"}),o.a.createElement(je.a,{label:"E - mail",name:"email",onBlur:i,onChange:r,autoComplete:"off",placeholder:"E - mail",type:"email",value:s.email,className:l.rangeField,variant:"outlined"})),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"30px"}},o.a.createElement(je.a,{label:"Home Tel",name:"homeTel",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Home Tel",type:"text",value:s.homeTel,className:l.rangeField,variant:"outlined"}),o.a.createElement(je.a,{label:"Work Tel",name:"workTel",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Work Tel",type:"email",value:s.workTel,className:l.rangeField,variant:"outlined"})),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"30px"}},o.a.createElement(je.a,{label:"Cell",name:"cell",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Cell",type:"text",value:s.cell,className:l.rangeField,variant:"outlined"}),o.a.createElement(je.a,{label:"Fax",name:"fax",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Fax",type:"text",value:s.fax,className:l.rangeField,variant:"outlined"}))),o.a.createElement(F.a,{style:{marginLeft:"10%",marginRight:"10%",marginTop:"70px",border:"solid 1px black",padding:"70px",paddingTop:"5px"}},o.a.createElement(ce.a,null,"Order Info"),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"30px"}},o.a.createElement(je.a,{label:"Quote Valid for",name:"quoteValid",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Quote Valid for",type:"text",value:s.quoteValid,className:l.rangeField,variant:"outlined"})),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"30px"}},o.a.createElement(je.a,{label:"Deposit type",name:"depositType",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Deposit type",type:"text",value:s.depositType,className:l.rangeField,variant:"outlined"}),o.a.createElement(je.a,{label:"Deposit $",name:"depositDollar",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Deposit $",type:"text",value:s.depositDollar,className:l.rangeField,variant:"outlined"})),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"30px"}},o.a.createElement(je.a,{label:"Discount",name:"discount",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Discount",type:"number",value:s.discount,className:l.rangeField,variant:"outlined"}),o.a.createElement(je.a,{label:"Discount Type",name:"discountType",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Discount Type",type:"text",value:s.discountType,className:l.rangeField,variant:"outlined"})),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"30px"}},o.a.createElement(je.a,{label:"Salesperson",name:"Salesperson",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Salesperson",type:"text",value:s.Salesperson,className:l.rangeField,variant:"outlined"}),o.a.createElement(je.a,{label:"Lead Source",name:"leadSource",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Lead Source",type:"text",value:s.leadSource,className:l.rangeField,variant:"outlined"})),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"30px"}},o.a.createElement(je.a,{label:"Status",name:"statusValue",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Status",type:"text",value:s.statusValue,className:l.rangeField,variant:"outlined"})),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"30px"}},o.a.createElement(je.a,{label:"Estimate Date Range For Install",name:"estimateDateRange",onBlur:i,onChange:r,autoComplete:"off",placeholder:"Estimate Date Range For Install",type:"text",value:s.estimateDateRange,className:l.rangeField,variant:"outlined"})),o.a.createElement(F.a,{display:"flex",justifyContent:"space-between",style:{marginTop:"30px"}},o.a.createElement(je.a,{fullWidth:!0,label:"Note",name:"note",onBlur:i,onChange:r,autoComplete:"off",multiline:!0,rows:8,type:"text",value:s.note,variant:"outlined"}))))))})};const Ot=Object(M.a)(()=>({root:{paddingTop:"20px",margin:"20px"},customSelect:{"& .MuiOutlinedInput-root":{padding:0,width:"300px",height:"40px",color:"black",backgroundColor:"white","&.Mui-focused fieldset":{borderColor:"rgb(12, 179, 229)"},"& .MuiSelect-root":{paddingTop:"7px",paddingBottom:"7px"}}}})),Nt=[{label:"Inside",value:"inside"},{label:"Outside",value:"outside"}];var Lt=function(e){let{className:t,...a}=e;const l=Ot(),[r,n]=Object(i.useState)("inside");return o.a.createElement(Ct.a,Object.assign({className:Object(oe.a)(l.root,t)},a),o.a.createElement(St.a,null,o.a.createElement(Be.a,{container:!0,spacing:1,style:{marginLeft:"10%"}},o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Measurement taken from")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,value:r,onChange:e=>n(e.target.value),variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}},Nt.map(e=>o.a.createElement(Pe.a,{key:e.value,value:e.value},e.label)))),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Frame Type")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Flex Color")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Exterior color")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Interior color")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Brick mould")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Brick mould color")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Jamb extension")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Casing")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Rosset")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Glass type")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Glass Thickness")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Grill Material")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})),o.a.createElement(Be.a,{item:!0,lg:2,xs:2},o.a.createElement(ce.a,{style:{marginTop:"5px"}},"Grill pattern")),o.a.createElement(Be.a,{item:!0,lg:10,xs:10},o.a.createElement(je.a,{select:!0,variant:"outlined",className:l.customSelect,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}}})))))};const zt=Object(M.a)(e=>({root:{backgroundColor:e.palette.background.default,padding:"5px",border:"solid 1px black",width:"100%",height:"100vh",overflow:"hidden"},selectedTab:{backgroundColor:"white",borderRadius:"0px",fontWeight:"bold",paddingLeft:"10px",paddingRight:"10px"},unselectedTab:{backgroundColor:"lightgrey",borderRadius:"0px",fontWeight:"bold",paddingLeft:"20px",paddingRight:"10px"}}));var jt=function(){const e=zt(),[t,a]=Object(i.useState)("design"),[l,r]=Object(i.useState)("newQuote"),n=e=>{a(e)},s=e=>{r(e)};return o.a.createElement(Ce.a,{className:e.root,title:"Home"},o.a.createElement(F.a,{style:{margin:"5px",border:"solid 2px black"}},o.a.createElement(F.a,{display:"flex",justifyContent:"left",style:{borderBottom:"solid 1px grey",paddingTop:"15px"}},o.a.createElement(pe.a,{onClick:()=>s("newQuote"),color:"newQuote"===l?"primary":"default",className:"newQuote"===l?e.selectedTab:e.unselectedTab},"New Quote"),o.a.createElement(pe.a,{onClick:()=>s("openQuoate"),color:"openQuoate"===l?"primary":"default",className:"openQuoate"===l?e.selectedTab:e.unselectedTab},"Open Quoate"),o.a.createElement(pe.a,{onClick:()=>s("viewQuoate"),color:"viewQuoate"===l?"primary":"default",className:"viewQuoate"===l?e.selectedTab:e.unselectedTab},"View Quoate"),o.a.createElement(pe.a,{onClick:()=>s("setting"),color:"setting"===l?"primary":"default",className:"setting"===l?e.selectedTab:e.unselectedTab},"Setting"),o.a.createElement(pe.a,{onClick:()=>s("saveQuoate"),color:"saveQuoate"===l?"primary":"default",className:"saveQuoate"===l?e.selectedTab:e.unselectedTab},"Save Quoate"),o.a.createElement(pe.a,{onClick:()=>s("closeQuoate"),color:"closeQuoate"===l?"primary":"default",className:"closeQuoate"===l?e.selectedTab:e.unselectedTab},"Close Quoate")),o.a.createElement(F.a,{display:"flex",justifyContent:"left",style:{borderBottom:"solid 1px grey"}},o.a.createElement(pe.a,{onClick:()=>n("orderInformation"),color:"orderInformation"===t?"primary":"default",className:"orderInformation"===t?e.selectedTab:e.unselectedTab},"Order Information"),o.a.createElement(pe.a,{onClick:()=>n("windowProperties"),color:"windowProperties"===t?"primary":"default",className:"windowProperties"===t?e.selectedTab:e.unselectedTab},"Window Properties"),o.a.createElement(pe.a,{onClick:()=>n("design"),color:"design"===t?"primary":"default",className:"design"===t?e.selectedTab:e.unselectedTab},"Design"),o.a.createElement(pe.a,{onClick:()=>n("items"),color:"items"===t?"primary":"default",className:"items"===t?e.selectedTab:e.unselectedTab},"Items"),o.a.createElement(pe.a,{onClick:()=>n("extra"),color:"extra"===t?"primary":"default",className:"extra"===t?e.selectedTab:e.unselectedTab},"Extra Items"),o.a.createElement(pe.a,{onClick:()=>n("notification"),color:"notification"===t?"primary":"default",className:"notification"===t?e.selectedTab:e.unselectedTab},"Notification")),t&&o.a.createElement("div",null,"orderInformation"===t&&"newQuote"===l&&o.a.createElement(Tt,null),"windowProperties"===t&&"newQuote"===l&&o.a.createElement(Lt,null),"design"===t&&"newQuote"===l&&o.a.createElement(kt,null))))};const Bt=[{exact:!0,path:"/",component:()=>o.a.createElement(L.a,{to:"/home"})},{exact:!0,path:"/404",component:Object(i.lazy)(()=>a.e(5).then(a.bind(null,740)))},{exact:!0,guard:Ee,path:"/login",component:Object(i.lazy)(()=>a.e(4).then(a.bind(null,742)))},{exact:!0,guard:Ee,path:"/register",component:Object(i.lazy)(()=>a.e(3).then(a.bind(null,743)))},{exact:!0,path:"/home",component:jt},{path:"/app",guard:ye,routes:[{exact:!0,path:"/app",component:()=>o.a.createElement(L.a,{to:"#"})},{component:()=>o.a.createElement(L.a,{to:"/404"})}]},{path:"*",layout:be,routes:[{component:()=>o.a.createElement(L.a,{to:"/404"})}]}],Pt=e=>e?o.a.createElement(i.Suspense,{fallback:o.a.createElement(ke,null)},o.a.createElement(L.d,null,e.map((e,t)=>{const a=e.guard||i.Fragment,l=e.layout||i.Fragment,r=e.component;return o.a.createElement(L.b,{key:t,path:e.path,exact:e.exact,render:t=>o.a.createElement(a,null,o.a.createElement(l,null,e.routes?Pt(e.routes):o.a.createElement(r,t)))})}))):null;var At=function(){return Pt(Bt)};const Rt=Object(z.a)(),It=Object(j.b)({plugins:[...Object(I.a)().plugins,P()()]}),Mt=Object(M.a)(()=>Object(D.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{height:"100%",width:"100%"},"#root":{height:"100%",width:"100%"}}}));var Dt=function(){Mt();const{settings:e}=Object(i.useContext)(w);return o.a.createElement(V.a,{theme:le(e)},o.a.createElement(G.b,{jss:It},o.a.createElement(H.a,{utils:A.a},o.a.createElement(R.a,{maxSnack:1},o.a.createElement(L.c,{history:Rt},o.a.createElement(U,null,o.a.createElement(X,null),o.a.createElement(At,null)))))))};Object(l.b)();const Vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[v.a];O.c&&t.push(N);const a=Object(k.composeWithDevTools)(Object(x.applyMiddleware)(...t)),l=[a],i=Object(x.compose)(...l),o=Object(x.createStore)(T,e,i);return o}(),Gt=function(){let e=null;try{const t=localStorage.getItem("settings");t&&(e=JSON.parse(t))}catch(t){}return e}();n.a.render(o.a.createElement(s.a,{store:Vt},o.a.createElement(u,{settings:Gt},o.a.createElement(Dt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},88:function(e,t,a){"use strict";var l=a(418),i=a.n(l),o=a(23),r=a(20);const n=new class{constructor(){this.setAxiosInterceptors=e=>{let{onLogout:t}=e;o.a.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(this.setSession(null),t&&t()),Promise.reject(e)))},this.loginWithEmailAndPassword=e=>new Promise((t,a)=>{o.a.post(r.a+"/account/login",{email:e}).then(e=>{e.data.user?(this.setSession(e.data.accessToken),t(e.data.user)):a(e.data.error)}).catch(e=>{a(e)})}),this.loginInWithToken=()=>new Promise((e,t)=>{const a=this.getAccessToken();o.a.post(r.a+"/account/me",{token:a}).then(a=>{a.data.user?e(a.data.user):t(a.data.error)}).catch(e=>{t(e)})}),this.logout=()=>{this.setSession(null)},this.setSession=e=>{e?(localStorage.setItem("accessToken",e),o.a.defaults.headers.common.Authorization="Bearer ".concat(e)):(localStorage.removeItem("accessToken"),delete o.a.defaults.headers.common.Authorization)},this.getAccessToken=()=>localStorage.getItem("accessToken"),this.isValidToken=e=>{if(!e)return!1;const t=i()(e),a=Date.now()/1e3;return t.exp>a},this.isAuthenticated=()=>!!this.getAccessToken()}handleAuthentication(){const e=this.getAccessToken();e&&(this.isValidToken(e)?this.setSession(e):this.setSession(null))}};t.a=n}},[[447,1,2]]]);
//# sourceMappingURL=main.546c47c3.chunk.js.map